{"ast":null,"code":"import _asyncToGenerator from \"/home/geri/Documents/angular-frontend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { debounceTime, distinctUntilChanged, map } from 'rxjs/operators';\nconst states = ['Alabama', 'Alaska', 'American Samoa', 'Arizona', 'Arkansas', 'California', 'Colorado', 'Connecticut', 'Delaware', 'District Of Columbia', 'Federated States Of Micronesia', 'Florida', 'Georgia', 'Guam', 'Hawaii', 'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana', 'Maine', 'Marshall Islands', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire', 'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota', 'Northern Mariana Islands', 'Ohio', 'Oklahoma', 'Oregon', 'Palau', 'Pennsylvania', 'Puerto Rico', 'Rhode Island', 'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont', 'Virgin Islands', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming'];\nlet ProjectComponent = class ProjectComponent {\n  constructor(router, datepipe, projectService, userService) {\n    this.router = router;\n    this.datepipe = datepipe;\n    this.projectService = projectService;\n    this.userService = userService;\n    this.usersPageNo = 0;\n\n    this.formatter = result => result.toUpperCase();\n\n    this.search = text$ => text$.pipe(debounceTime(200), distinctUntilChanged(), map(term => term === '' ? [] : states.filter(v => v.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 10))); //I passed the entire already loaded project object from the projects menu when rerouting as a navigation state variable    \n\n\n    const navigation = this.router.getCurrentNavigation();\n\n    if (navigation) {\n      this.project = navigation.extras.state ? navigation.extras.state.project : 0;\n    } //On page refresh, the state is lost along with the object so I reroute the user back to projects \n\n\n    if (this.project.id == null) {\n      this.router.navigateByUrl(\"/projects\");\n    }\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.noOfUsers = yield _this.projectService.getProjectNoOfUsers(_this.project.id).toPromise();\n      _this.stats = yield _this.projectService.getProjectStats(_this.project.id).toPromise();\n      _this.users = yield _this.userService.getUsersOfProject(_this.project.id, _this.usersPageNo).toPromise();\n      _this.noOfTickets = _this.stats[0] + _this.stats[1];\n    })();\n  }\n\n};\nProjectComponent = __decorate([Component({\n  selector: 'app-project',\n  templateUrl: './project.component.html',\n  styleUrls: ['./project.component.css']\n})], ProjectComponent);\nexport { ProjectComponent };","map":{"version":3,"sources":["/home/geri/Documents/angular-frontend/frontend/src/app/components/project/project.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { DatePipe } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { NavigationStart, Router, RouterEvent } from '@angular/router';\nimport {Observable, OperatorFunction} from 'rxjs';\nimport {debounceTime, delay, distinctUntilChanged, filter, map} from 'rxjs/operators';\nimport { Project } from 'src/app/interfaces/project';\nimport { User } from 'src/app/interfaces/user';\nimport { ProjectService } from 'src/app/services/project/project.service';\nimport { UserServiceService } from 'src/app/services/user/user-service.service';\n\nconst states = ['Alabama', 'Alaska', 'American Samoa', 'Arizona', 'Arkansas', 'California', 'Colorado',\n  'Connecticut', 'Delaware', 'District Of Columbia', 'Federated States Of Micronesia', 'Florida', 'Georgia',\n  'Guam', 'Hawaii', 'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana', 'Maine',\n  'Marshall Islands', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana',\n  'Nebraska', 'Nevada', 'New Hampshire', 'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota',\n  'Northern Mariana Islands', 'Ohio', 'Oklahoma', 'Oregon', 'Palau', 'Pennsylvania', 'Puerto Rico', 'Rhode Island',\n  'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont', 'Virgin Islands', 'Virginia',\n  'Washington', 'West Virginia', 'Wisconsin', 'Wyoming'];\n\n\n@Component({\n  selector: 'app-project',\n  templateUrl: './project.component.html',\n  styleUrls: ['./project.component.css']\n})\nexport class ProjectComponent implements OnInit {\n  public model: any;\n\n  project!: Project;\n  noOfUsers!: number;\n  stats!: number[];\n  noOfTickets!: number;\n  usersPageNo = 0;\n  users!: User[];\n\n  constructor(public router:Router, public datepipe:DatePipe, public projectService:ProjectService, public userService: UserServiceService) { \n    //I passed the entire already loaded project object from the projects menu when rerouting as a navigation state variable    \n    const navigation  = this.router.getCurrentNavigation();\n     if(navigation){\n      this.project = navigation.extras.state ? navigation.extras.state.project : 0;\n    }\n\n    //On page refresh, the state is lost along with the object so I reroute the user back to projects \n    if(this.project.id==null){\n      this.router.navigateByUrl(\"/projects\");\n    }\n\n\n  }\n\n  async ngOnInit(): Promise<void> {\n    this.noOfUsers = await this.projectService.getProjectNoOfUsers(this.project.id).toPromise();\n    this.stats = await this.projectService.getProjectStats(this.project.id).toPromise();\n    this.users = await this.userService.getUsersOfProject(this.project.id,this.usersPageNo).toPromise();\n    this.noOfTickets = this.stats[0]+this.stats[1]\n  }\n\n\n\n\n  formatter = (result: string) => result.toUpperCase();\n\n  search: OperatorFunction<string, readonly string[]> = (text$: Observable<string>) =>\n    text$.pipe(\n      debounceTime(200),\n      distinctUntilChanged(),\n      map(term => term === '' ? []\n        : states.filter(v => v.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 10))\n    )\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}