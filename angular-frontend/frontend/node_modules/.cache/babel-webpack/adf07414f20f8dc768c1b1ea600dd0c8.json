{"ast":null,"code":"import _asyncToGenerator from \"/home/geri/Documents/angular-frontend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet ProjectCardComponent = class ProjectCardComponent {\n  constructor(projectService) {\n    this.projectService = projectService;\n    this.stats = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.stats = yield _this.projectService.getProjectStats(_this.project.id).toPromise();\n    })();\n  } //adds user with fixed owner role, just for demo's sake to easily access stuff\n\n\n  addUserToProject() {\n    const userId = localStorage.getItem(\"user_id\");\n    this.projectService.addUserToProject(Number(userId), this.project.id, 1).subscribe(response => {\n      console.warn(\"User added to project with ID: \" + this.project.id + \"\\n As role: \" + response.role.roleType + \"\\n With access level: \" + response.role.accessLevel);\n    }, error => {\n      alert(error.message);\n    });\n  }\n\n};\n\n__decorate([Input()], ProjectCardComponent.prototype, \"project\", void 0);\n\nProjectCardComponent = __decorate([Component({\n  selector: 'app-project-card',\n  templateUrl: './project-card.component.html',\n  styleUrls: ['./project-card.component.css']\n})], ProjectCardComponent);\nexport { ProjectCardComponent };","map":{"version":3,"sources":["/home/geri/Documents/angular-frontend/frontend/src/app/components/projects/project-card/project-card.component.ts"],"names":[],"mappings":";;AACA,SAAS,SAAT,EAAoB,KAApB,QAAyC,eAAzC;AAUA,IAAa,oBAAoB,GAAjC,MAAa,oBAAb,CAAiC;AAE/B,EAAA,WAAA,CAAmB,cAAnB,EAAiD;AAA9B,SAAA,cAAA,GAAA,cAAA;AAMnB,SAAA,KAAA,GAAkB,EAAlB;AANsD;;AAQhD,EAAA,QAAQ,GAAA;AAAA;;AAAA;AACZ,MAAA,KAAI,CAAC,KAAL,SAAkB,KAAI,CAAC,cAAL,CAAoB,eAApB,CAAoC,KAAI,CAAC,OAAL,CAAa,EAAjD,EAAqD,SAArD,EAAlB;AADY;AAEb,GAZ8B,CAa7B;;;AACO,EAAA,gBAAgB,GAAA;AACvB,UAAM,MAAM,GAAE,YAAY,CAAC,OAAb,CAAqB,SAArB,CAAd;AAEE,SAAK,cAAL,CAAoB,gBAApB,CAAqC,MAAM,CAAC,MAAD,CAA3C,EAAoD,KAAK,OAAL,CAAa,EAAjE,EAAoE,CAApE,EAAuE,SAAvE,CACG,QAAD,IAAiB;AACf,MAAA,OAAO,CAAC,IAAR,CAAa,oCAAkC,KAAK,OAAL,CAAa,EAA/C,GAAkD,cAAlD,GAAiE,QAAQ,CAAC,IAAT,CAAc,QAA/E,GAAwF,wBAAxF,GAAiH,QAAQ,CAAC,IAAT,CAAc,WAA5I;AACD,KAHH,EAIG,KAAD,IAA6B;AAC3B,MAAA,KAAK,CAAC,KAAK,CAAC,OAAP,CAAL;AACD,KANH;AAQD;;AAzB4B,CAAjC;;AAKE,UAAA,CAAA,CADC,KAAK,EACN,CAAA,E,8BAAA,E,SAAA,E,KAAkB,CAAlB,CAAA;;AALW,oBAAoB,GAAA,UAAA,CAAA,CALhC,SAAS,CAAC;AACT,EAAA,QAAQ,EAAE,kBADD;AAET,EAAA,WAAW,EAAE,+BAFJ;AAGT,EAAA,SAAS,EAAE,CAAC,8BAAD;AAHF,CAAD,CAKuB,CAAA,EAApB,oBAAoB,CAApB;SAAA,oB","sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { Project } from 'src/app/interfaces/project';\nimport { ProjectUserRoleLink } from 'src/app/interfaces/project-user-role-link';\nimport { ProjectService } from 'src/app/services/project/project.service';\n\n@Component({\n  selector: 'app-project-card',\n  templateUrl: './project-card.component.html',\n  styleUrls: ['./project-card.component.css']\n})\nexport class ProjectCardComponent implements OnInit {\n\n  constructor(public projectService: ProjectService) { }\n\n  @Input()\n  project!: Project;\n\n\n  stats: number[] = [];\n\n  async ngOnInit(): Promise<void> {\n    this.stats= await this.projectService.getProjectStats(this.project.id).toPromise();\n  }\n    //adds user with fixed owner role, just for demo's sake to easily access stuff\n    public addUserToProject(){\n    const userId= localStorage.getItem(\"user_id\");\n\n      this.projectService.addUserToProject(Number(userId),this.project.id,1).subscribe(\n        (response: any)=>  {\n          console.warn(\"User added to project with ID: \"+this.project.id+\"\\n As role: \"+response.role.roleType+\"\\n With access level: \"+response.role.accessLevel);\n        },\n        (error: HttpErrorResponse) =>{\n          alert(error.message);\n        }    \n      )\n    }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}