{"ast":null,"code":"import _asyncToGenerator from \"/home/geri/Documents/angular-frontend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { NgbDropdownConfig } from '@ng-bootstrap/ng-bootstrap';\nimport * as Notifications from 'src/app/interfaces/globalNotifications/notifications';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"src/app/services/ticket/ticket.service\";\nimport * as i4 from \"src/app/services/user/user-service.service\";\nimport * as i5 from \"src/app/services/tag/tag.service\";\nimport * as i6 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i7 from \"@angular/forms\";\n\nfunction TicketComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const history_r8 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(history_r8.oldTitle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(history_r8.oldDesc);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.datepipe.transform(history_r8.dateChanged, \"yyyy-MM-dd\"), \" \");\n  }\n}\n\nfunction TicketComponent_button_68_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function TicketComponent_button_68_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const tag_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.onTagClick(tag_r9);\n    });\n    i0.ɵɵelementStart(1, \"a\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tag_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", tag_r9.tag, \" \");\n  }\n}\n\nfunction TicketComponent_button_109_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 56, 57);\n    i0.ɵɵlistener(\"click\", function TicketComponent_button_109_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const tag_r12 = restoredCtx.$implicit;\n\n      const _r13 = i0.ɵɵreference(1);\n\n      const ctx_r14 = i0.ɵɵnextContext();\n      ctx_r14.onTagSelect(tag_r12);\n      return ctx_r14.disableButtonForever(_r13);\n    });\n    i0.ɵɵelementStart(2, \"a\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tag_r12 = ctx.$implicit;\n\n    const _r13 = i0.ɵɵreference(1);\n\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r4.foreverDisabledButtons.includes(_r13));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", tag_r12.tag, \" \");\n  }\n}\n\nfunction TicketComponent_div_131_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"div\", 58);\n    i0.ɵɵelementStart(2, \"div\", 17);\n    i0.ɵɵelementStart(3, \"div\", 18);\n    i0.ɵɵelementStart(4, \"i\", 14);\n    i0.ɵɵtext(5, \"person\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h4\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"div\", 19);\n    i0.ɵɵelementStart(9, \"div\", 20);\n    i0.ɵɵelementStart(10, \"a\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"div\", 19);\n    i0.ɵɵelement(13, \"div\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const comment_r16 = ctx.$implicit;\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"User: \", comment_r16.user.userName, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(comment_r16.message);\n  }\n}\n\nexport let TicketComponent = /*#__PURE__*/(() => {\n  class TicketComponent {\n    constructor(router, datepipe, ticketService, userService, tagService) {\n      this.router = router;\n      this.datepipe = datepipe;\n      this.ticketService = ticketService;\n      this.userService = userService;\n      this.tagService = tagService;\n      this.ticketHistoryPageNo = 0;\n      this.commentsPageNo = 0;\n      this.editTicketButtonDisabled = false;\n      this.selectedTags = []; //for selecting tags to add, already added tags button will be disabled forever\n\n      this.foreverDisabledButtons = [];\n      const navigation = this.router.getCurrentNavigation();\n\n      if (navigation) {\n        this.ticket = navigation.extras.state ? navigation.extras.state.ticket : 0;\n      } //On page refresh, the state is lost along with the object so I reroute the user back to tickets \n\n\n      if (this.ticket.id == null) {\n        this.router.navigateByUrl(\"/tickets\");\n      }\n    }\n\n    ngOnInit() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        _this.ticketHistory = yield _this.ticketService.getTicketHistory(_this.ticket.id, _this.ticketHistoryPageNo).toPromise();\n        _this.ticketComments = yield _this.ticketService.getTicketComments(_this.ticket.id, _this.commentsPageNo).toPromise();\n        _this.allTags = yield _this.tagService.getTags().toPromise(); //for adding tags, I filter out the tags already added to avoid duplication\n\n        _this.allTags = _this.allTags.filter(cv => {\n          return !_this.ticket.tags.find(function (e) {\n            return e.id == cv.id;\n          });\n        });\n        const username = localStorage.getItem(\"username\");\n\n        if (_this.ticket.submitUser.userName !== username) {\n          _this.editTicketButtonDisabled = true;\n        }\n      })();\n    }\n\n    openEditTicket() {\n      this.router.navigateByUrl('tickets/ticket/edit', {\n        state: {\n          ticket: this.ticket\n        }\n      });\n    }\n\n    nextTicketHistory() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        if (_this2.ticketHistory.length != 0) {\n          console.warn(\"click called\");\n          _this2.ticketHistoryPageNo += 1;\n          _this2.ticketHistory = yield _this2.ticketService.getTicketHistory(_this2.ticket.id, _this2.ticketHistoryPageNo).toPromise();\n        }\n      })();\n    }\n\n    previousTicketHistory() {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        if (_this3.ticketHistoryPageNo !== 0) {\n          _this3.ticketHistoryPageNo -= 1;\n          console.warn(\"click called\");\n          _this3.ticketHistory = yield _this3.ticketService.getTicketHistory(_this3.ticket.id, _this3.ticketHistoryPageNo).toPromise();\n        }\n      })();\n    }\n\n    nextComments() {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        if (_this4.ticketComments.length != 0) {\n          console.warn(\"click called\");\n          _this4.commentsPageNo += 1;\n          _this4.ticketComments = yield _this4.ticketService.getTicketComments(_this4.ticket.id, _this4.commentsPageNo).toPromise();\n        }\n      })();\n    }\n\n    previousComments() {\n      var _this5 = this;\n\n      return _asyncToGenerator(function* () {\n        if (_this5.commentsPageNo !== 0) {\n          _this5.commentsPageNo -= 1;\n          console.warn(\"click called\");\n          _this5.ticketComments = yield _this5.ticketService.getTicketComments(_this5.ticket.id, _this5.commentsPageNo).toPromise();\n        }\n      })();\n    }\n\n    onAddComment(addCommentForm) {\n      var _this6 = this;\n\n      return _asyncToGenerator(function* () {\n        var _a;\n\n        const comment = (_a = addCommentForm.form.get('comment_message')) === null || _a === void 0 ? void 0 : _a.value;\n        let userId = localStorage.getItem(\"user_id\") ? Number(localStorage.getItem(\"user_id\")) : 0;\n        let newComment = {\n          message: comment,\n          ticket: _this6.ticket,\n          id: 0,\n          user: {}\n        };\n\n        _this6.ticketService.addComment(_this6.ticket.id, userId, newComment).subscribe(response => {\n          Notifications.addNewAlert(\"Your comment is added\", \"success\");\n\n          _this6.ticketComments.push(response);\n        }, error => {\n          alert(error.message);\n        });\n      })();\n    }\n\n    onAssignUser(assignUserForm) {\n      var _this7 = this;\n\n      return _asyncToGenerator(function* () {\n        var _a, _b;\n\n        const username = (_a = assignUserForm.form.get('assign_username')) === null || _a === void 0 ? void 0 : _a.value;\n        _this7.userToBeAdded = yield _this7.userService.getUserByName(username).toPromise();\n\n        if ((_b = _this7.userToBeAdded) === null || _b === void 0 ? void 0 : _b.id) {\n          console.warn(`User to be assigned to ticket ID: ${_this7.userToBeAdded.id}`);\n\n          _this7.ticketService.assignUserToTicket(_this7.userToBeAdded.id, _this7.ticket.id).subscribe(response => {\n            //alert(`User: ${this.userToBeAdded.userName} Assigned to Ticket`);\n            Notifications.addNewAlert(`User: ${_this7.userToBeAdded.userName} Assigned to Ticket`, \"success\"); //refresh\n\n            const currentUrl = _this7.router.url;\n\n            _this7.router.navigateByUrl('/', {\n              skipLocationChange: true\n            }).then(() => {\n              _this7.router.navigate([currentUrl], {\n                state: {\n                  ticket: response\n                }\n              });\n            });\n          }, error => {\n            alert(error.message);\n          });\n        } else {\n          alert(\"User not found\");\n        }\n      })();\n    }\n\n    onTagSelect(tag) {\n      this.selectedTags.push(tag);\n    }\n\n    onTagClick(tag) {\n      this.router.navigateByUrl('tickets', {\n        state: {\n          tag: tag\n        }\n      });\n    }\n\n    disableButtonForever(button) {\n      this.foreverDisabledButtons.push(button);\n    }\n\n    enableDisabledButtons() {\n      this.foreverDisabledButtons = [];\n      this.selectedTags = [];\n    }\n\n    onAddTags() {\n      var _this8 = this;\n\n      return _asyncToGenerator(function* () {\n        _this8.selectedTags.forEach(tag => {\n          _this8.ticket.tags.push(tag);\n\n          _this8.ticketService.addTagToTicket(tag.id, _this8.ticket.id).toPromise();\n        });\n\n        const currentUrl = _this8.router.url;\n\n        _this8.router.navigateByUrl('/', {\n          skipLocationChange: true\n        }).then(() => {\n          _this8.router.navigate([currentUrl], {\n            state: {\n              ticket: _this8.ticket\n            }\n          });\n        });\n      })();\n    }\n\n  }\n\n  TicketComponent.ɵfac = function TicketComponent_Factory(t) {\n    return new (t || TicketComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DatePipe), i0.ɵɵdirectiveInject(i3.TicketService), i0.ɵɵdirectiveInject(i4.UserServiceService), i0.ɵɵdirectiveInject(i5.TagService));\n  };\n\n  TicketComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TicketComponent,\n    selectors: [[\"app-ticket\"]],\n    features: [i0.ɵɵProvidersFeature([NgbDropdownConfig])],\n    decls: 154,\n    vars: 21,\n    consts: [[1, \"content\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-8\"], [1, \"card\"], [1, \"card-header\", \"card-header-primary\"], [1, \"card-title\"], [1, \"card-body\"], [1, \"card-header\", \"card-header-warning\"], [1, \"card-body\", \"table-responsive\"], [1, \"table\", \"table-hover\"], [1, \"text-warning\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"Previous 10 History\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"click\"], [1, \"material-icons\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"Next 10 History\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"click\"], [1, \"card\", \"card-stats\", \"col-md-4\"], [1, \"card-header\", \"card-header-primary\", \"card-header-icon\"], [1, \"card-icon\"], [1, \"card-header\", \"card-header-success\", \"card-header-icon\"], [1, \"card-footer\"], [1, \"card-footer\", \"container-fluid\"], [1, \"stats\", \"row\", \"col-md-12\", \"container-fluid\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"View tickets with this tag\", \"class\", \"btn btn-info btn-link btn-sm\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"Edit Ticket\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"disabled\", \"click\"], [1, \"col\"], [\"ngbDropdown\", \"\", 1, \"d-inline-block\"], [\"id\", \"assignUserDropdownForm\", \"ngbDropdownToggle\", \"\", \"rel\", \"tooltip\", \"title\", \"Assign User To Ticket\", 1, \"btn\", \"btn-outline-primary\", \"tn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"disabled\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"dropdownForm1\"], [1, \"px-4\", \"py-3\", 3, \"ngSubmit\"], [\"assignUserForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"assignUserDropdownFormUsername\"], [\"ngModel\", \"\", \"name\", \"assign_username\", \"required\", \"\", \"type\", \"text\", \"id\", \"assignUserDropdownFormUsername\", \"placeholder\", \"username\", \"autocomplete\", \"username\", 1, \"form-control\"], [\"input\", \"\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"col-md-12\"], [\"ngbDropdown\", \"\", \"placement\", \"bottom-right\", 1, \"d-inline-block\", 3, \"autoClose\"], [\"id\", \"assignUserDropdownForm\", \"ngbDropdownToggle\", \"\", 1, \"btn\", \"btn-outline-primary\", \"tn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"disabled\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"dropdownFormTags\", 1, \"row\", \"dropdown-menu-moded\"], [1, \"row\", \"col-md-12\", \"container-fluid\"], [\"type\", \"button\", \"ngbDropdownItem\", \"\", 3, \"disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"text\"], [1, \"row\", \"col-md-12\", \"container-fluid\", \"pull-right\"], [\"id\", \"assignUserDropdownForm\", 1, \"btn\", \"tn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"type\", \"button\", 1, \"btn\", \"tn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"click\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\", \"col-md-12\"], [\"ngbDropdown\", \"\", \"placement\", \"top-left\", 1, \"d-inline-block\", \"col-md-12\"], [\"id\", \"assignUserDropdownForm\", \"ngbDropdownToggle\", \"\", \"rel\", \"tooltip\", \"title\", \"Add comment\", 1, \"btn\", \"btn-outline-primary\", \"tn\", \"btn-primary\", \"btn-link\", \"btn-sm\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"dropdownForm1\", 1, \"col-md-12\"], [\"addCommentForm\", \"ngForm\"], [\"ngModel\", \"\", \"name\", \"comment_message\", \"required\", \"\", \"cols\", \"40\", \"rows\", \"5\", \"type\", \"text\", \"id\", \"assignUserDropdownFormUsername\", \"placeholder\", \"comment (max 800char)\", \"maxlength\", \"800\", 1, \"form-control\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"Previous 10 Comments\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"click\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"Next 10 Comments\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"click\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"View tickets with this tag\", 1, \"btn\", \"btn-info\", \"btn-link\", \"btn-sm\", 3, \"click\"], [\"type\", \"button\", \"ngbDropdownItem\", \"\", 3, \"disabled\", \"click\"], [\"button\", \"\"], [1, \"card\", \"card-stats\", \"col-md-12\"]],\n    template: function TicketComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r17 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵelementStart(6, \"h4\", 6);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵelementStart(9, \"div\", 6);\n        i0.ɵɵelementStart(10, \"h4\");\n        i0.ɵɵtext(11, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 6);\n        i0.ɵɵelementStart(13, \"p\");\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 4);\n        i0.ɵɵelementStart(16, \"div\", 8);\n        i0.ɵɵelementStart(17, \"h4\", 6);\n        i0.ɵɵtext(18, \"Ticket History\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 9);\n        i0.ɵɵelementStart(20, \"table\", 10);\n        i0.ɵɵelementStart(21, \"thead\", 11);\n        i0.ɵɵelementStart(22, \"th\");\n        i0.ɵɵtext(23, \"Old Title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\");\n        i0.ɵɵtext(25, \"Old Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"th\");\n        i0.ɵɵtext(27, \"Date Changed\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"tbody\");\n        i0.ɵɵtemplate(29, TicketComponent_tr_29_Template, 7, 3, \"tr\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function TicketComponent_Template_button_click_30_listener() {\n          return ctx.previousTicketHistory();\n        });\n        i0.ɵɵelementStart(31, \"i\", 14);\n        i0.ɵɵtext(32, \"chevron_left\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function TicketComponent_Template_button_click_33_listener() {\n          return ctx.nextTicketHistory();\n        });\n        i0.ɵɵelementStart(34, \"i\", 14);\n        i0.ɵɵtext(35, \"chevron_right\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 16);\n        i0.ɵɵelementStart(37, \"div\", 17);\n        i0.ɵɵelementStart(38, \"div\", 18);\n        i0.ɵɵelementStart(39, \"i\", 14);\n        i0.ɵɵtext(40, \"bug_report\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"h3\", 6);\n        i0.ɵɵtext(42, \"Ticket Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(43, \"div\", 19);\n        i0.ɵɵelementStart(44, \"div\", 20);\n        i0.ɵɵelementStart(45, \"a\");\n        i0.ɵɵtext(46);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(47, \"div\", 19);\n        i0.ɵɵelementStart(48, \"div\", 20);\n        i0.ɵɵelementStart(49, \"a\");\n        i0.ɵɵtext(50);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(51, \"div\", 19);\n        i0.ɵɵelementStart(52, \"div\", 20);\n        i0.ɵɵelementStart(53, \"a\");\n        i0.ɵɵtext(54);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(55, \"div\", 19);\n        i0.ɵɵelementStart(56, \"div\", 20);\n        i0.ɵɵelementStart(57, \"a\");\n        i0.ɵɵtext(58);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(59, \"div\", 19);\n        i0.ɵɵelementStart(60, \"div\", 20);\n        i0.ɵɵelementStart(61, \"a\");\n        i0.ɵɵtext(62);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(63, \"div\", 19);\n        i0.ɵɵelementStart(64, \"div\", 21);\n        i0.ɵɵelementStart(65, \"a\");\n        i0.ɵɵtext(66, \"Tags: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"div\", 22);\n        i0.ɵɵtemplate(68, TicketComponent_button_68_Template, 3, 1, \"button\", 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(69, \"div\", 19);\n        i0.ɵɵelementStart(70, \"div\", 20);\n        i0.ɵɵelementStart(71, \"a\");\n        i0.ɵɵtext(72, \"Edit Ticket: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(73, \"button\", 24);\n        i0.ɵɵlistener(\"click\", function TicketComponent_Template_button_click_73_listener() {\n          return ctx.openEditTicket();\n        });\n        i0.ɵɵelementStart(74, \"i\", 14);\n        i0.ɵɵtext(75, \"edit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(76, \"div\", 19);\n        i0.ɵɵelementStart(77, \"div\", 20);\n        i0.ɵɵelementStart(78, \"div\", 2);\n        i0.ɵɵelementStart(79, \"div\", 25);\n        i0.ɵɵelementStart(80, \"div\", 26);\n        i0.ɵɵelementStart(81, \"button\", 27);\n        i0.ɵɵelementStart(82, \"i\", 14);\n        i0.ɵɵtext(83, \"edit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(84, \"div\", 28);\n        i0.ɵɵelementStart(85, \"form\", 29, 30);\n        i0.ɵɵlistener(\"ngSubmit\", function TicketComponent_Template_form_ngSubmit_85_listener() {\n          i0.ɵɵrestoreView(_r17);\n\n          const _r2 = i0.ɵɵreference(86);\n\n          return ctx.onAssignUser(_r2);\n        });\n        i0.ɵɵelementStart(87, \"div\", 31);\n        i0.ɵɵelementStart(88, \"label\", 32);\n        i0.ɵɵtext(89, \"User's Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(90, \"input\", 33, 34);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(92, \"button\", 35);\n        i0.ɵɵtext(93, \" Assign User \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(94, \"a\");\n        i0.ɵɵtext(95, \": Assign User To Ticket \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(96, \"div\", 19);\n        i0.ɵɵelementStart(97, \"div\", 20);\n        i0.ɵɵelementStart(98, \"div\", 2);\n        i0.ɵɵelementStart(99, \"div\", 36);\n        i0.ɵɵelementStart(100, \"div\", 37);\n        i0.ɵɵelementStart(101, \"button\", 38);\n        i0.ɵɵelementStart(102, \"i\", 14);\n        i0.ɵɵtext(103, \"add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(104, \"div\", 39);\n        i0.ɵɵelementStart(105, \"div\", 21);\n        i0.ɵɵelementStart(106, \"div\", 40);\n        i0.ɵɵelementStart(107, \"a\");\n        i0.ɵɵtext(108, \" Tags (only shows tags not yet added): \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(109, TicketComponent_button_109_Template, 4, 2, \"button\", 41);\n        i0.ɵɵelement(110, \"br\");\n        i0.ɵɵelement(111, \"a\", 42);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(112, \"div\", 40);\n        i0.ɵɵelementStart(113, \"a\");\n        i0.ɵɵtext(114);\n        i0.ɵɵpipe(115, \"json\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(116, \"div\", 43);\n        i0.ɵɵelementStart(117, \"button\", 44);\n        i0.ɵɵlistener(\"click\", function TicketComponent_Template_button_click_117_listener() {\n          return ctx.onAddTags();\n        });\n        i0.ɵɵelementStart(118, \"i\", 14);\n        i0.ɵɵtext(119, \"add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(120, \" Add tags \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(121, \"button\", 45);\n        i0.ɵɵlistener(\"click\", function TicketComponent_Template_button_click_121_listener() {\n          return ctx.enableDisabledButtons();\n        });\n        i0.ɵɵtext(122, \" Reset \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(123, \"a\");\n        i0.ɵɵtext(124, \": Add Tags To Ticket \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(125, \"div\", 2);\n        i0.ɵɵelementStart(126, \"div\", 4);\n        i0.ɵɵelementStart(127, \"div\", 5);\n        i0.ɵɵelementStart(128, \"h4\", 6);\n        i0.ɵɵtext(129, \"Comments\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(130, \"div\", 7);\n        i0.ɵɵtemplate(131, TicketComponent_div_131_Template, 14, 2, \"div\", 46);\n        i0.ɵɵelementStart(132, \"div\", 2);\n        i0.ɵɵelementStart(133, \"div\", 47);\n        i0.ɵɵelementStart(134, \"div\", 48);\n        i0.ɵɵelementStart(135, \"button\", 49);\n        i0.ɵɵelementStart(136, \"i\", 14);\n        i0.ɵɵtext(137, \"add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(138, \"div\", 50);\n        i0.ɵɵelementStart(139, \"form\", 29, 51);\n        i0.ɵɵlistener(\"ngSubmit\", function TicketComponent_Template_form_ngSubmit_139_listener() {\n          i0.ɵɵrestoreView(_r17);\n\n          const _r6 = i0.ɵɵreference(140);\n\n          return ctx.onAddComment(_r6);\n        });\n        i0.ɵɵelementStart(141, \"div\", 31);\n        i0.ɵɵelementStart(142, \"label\", 32);\n        i0.ɵɵtext(143, \"Type your comment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(144, \"textarea\", 52, 34);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(146, \"button\", 35);\n        i0.ɵɵtext(147, \" Submit \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(148, \"button\", 53);\n        i0.ɵɵlistener(\"click\", function TicketComponent_Template_button_click_148_listener() {\n          return ctx.previousComments();\n        });\n        i0.ɵɵelementStart(149, \"i\", 14);\n        i0.ɵɵtext(150, \"chevron_left\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(151, \"button\", 54);\n        i0.ɵɵlistener(\"click\", function TicketComponent_Template_button_click_151_listener() {\n          return ctx.nextComments();\n        });\n        i0.ɵɵelementStart(152, \"i\", 14);\n        i0.ɵɵtext(153, \"chevron_right\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(86);\n\n        const _r6 = i0.ɵɵreference(140);\n\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.ticket.ticketTitle);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\" \", ctx.ticket.ticketDesc, \" \");\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngForOf\", ctx.ticketHistory);\n        i0.ɵɵadvance(17);\n        i0.ɵɵtextInterpolate1(\"Start date: \", ctx.datepipe.transform(ctx.ticket.ticketCreated, \"yyyy-MM-dd\"), \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Priority: \", ctx.ticket.ticketPriority.priorityType, \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Owner: \", ctx.ticket.submitUser.userName, \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Assigned user: \", ctx.ticket == null ? null : ctx.ticket.assignedUser == null ? null : ctx.ticket.assignedUser.userName, \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Deadline: \", ctx.datepipe.transform(ctx.ticket.deadline, \"yyyy-MM-dd\"), \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.ticket.tags);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", ctx.editTicketButtonDisabled);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"disabled\", ctx.editTicketButtonDisabled);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"disabled\", !_r2.valid);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"autoClose\", false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.editTicketButtonDisabled);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngForOf\", ctx.allTags);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" Tags to be added: \", i0.ɵɵpipeBind1(115, 19, ctx.selectedTags), \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", ctx.selectedTags.length == 0);\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngForOf\", ctx.ticketComments);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"disabled\", !_r6.valid);\n      }\n    },\n    directives: [i2.NgForOf, i6.NgbDropdown, i6.NgbDropdownToggle, i6.NgbDropdownMenu, i7.ɵNgNoValidate, i7.NgControlStatusGroup, i7.NgForm, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgModel, i7.RequiredValidator, i7.MaxLengthValidator, i6.NgbDropdownItem],\n    pipes: [i2.JsonPipe],\n    styles: [\".dropdown-menu-moded[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:600px!important;height:4px!important;overflow-wrap:break-word;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\"]\n  });\n  return TicketComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}