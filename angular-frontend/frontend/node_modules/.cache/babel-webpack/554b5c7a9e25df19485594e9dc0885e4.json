{"ast":null,"code":"import _asyncToGenerator from \"/home/geri/Documents/angular-frontend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet TicketCardComponent = class TicketCardComponent {\n  constructor(ticketService, router, datepipe) {\n    this.ticketService = ticketService;\n    this.router = router;\n    this.datepipe = datepipe;\n    this.commentCount = 0;\n    this.currentUsername = localStorage.getItem(\"username\");\n    this.today = new Date();\n    this.deadlineBool = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      _this.commentCount = yield _this.ticketService.getCommentsCountForTicket(_this.ticket.id).toPromise();\n\n      if (Date.parse((_a = _this.ticket) === null || _a === void 0 ? void 0 : _a.deadline.toString()) < Date.parse(_this.today.toString())) {\n        console.warn(\"pog\");\n        _this.deadlineBool = true;\n      }\n    })();\n  }\n\n  openTicket() {\n    this.router.navigateByUrl('tickets/ticket', {\n      state: {\n        ticket: this.ticket\n      }\n    });\n  }\n\n};\n\n__decorate([Input()], TicketCardComponent.prototype, \"ticket\", void 0);\n\nTicketCardComponent = __decorate([Component({\n  selector: 'app-ticket-card',\n  templateUrl: './ticket-card.component.html',\n  styleUrls: ['./ticket-card.component.css']\n})], TicketCardComponent);\nexport { TicketCardComponent };","map":{"version":3,"sources":["/home/geri/Documents/angular-frontend/frontend/src/app/components/tickets/ticket-card/ticket-card.component.ts"],"names":[],"mappings":";;AACA,SAAS,SAAT,EAAoB,KAApB,QAAyC,eAAzC;AAUA,IAAa,mBAAmB,GAAhC,MAAa,mBAAb,CAAgC;AAa9B,EAAA,WAAA,CAAmB,aAAnB,EAAsD,MAAtD,EAA6E,QAA7E,EAA8F;AAA3E,SAAA,aAAA,GAAA,aAAA;AAAmC,SAAA,MAAA,GAAA,MAAA;AAAuB,SAAA,QAAA,GAAA,QAAA;AAR7E,SAAA,YAAA,GAAa,CAAb;AACA,SAAA,eAAA,GAAkB,YAAY,CAAC,OAAb,CAAqB,UAArB,CAAlB;AAEA,SAAA,KAAA,GAAa,IAAI,IAAJ,EAAb;AAEA,SAAA,YAAA,GAAa,KAAb;AAGmG;;AAE7F,EAAA,QAAQ,GAAA;AAAA;;AAAA;;;AACZ,MAAA,KAAI,CAAC,YAAL,SAA0B,KAAI,CAAC,aAAL,CAAmB,yBAAnB,CAA6C,KAAI,CAAC,MAAL,CAAY,EAAzD,EAA6D,SAA7D,EAA1B;;AAEA,UAAG,IAAI,CAAC,KAAL,CAAW,CAAA,EAAA,GAAA,KAAI,CAAC,MAAL,MAAW,IAAX,IAAW,EAAA,KAAA,KAAA,CAAX,GAAW,KAAA,CAAX,GAAW,EAAA,CAAE,QAAF,CAAW,QAAX,EAAtB,IAA6C,IAAI,CAAC,KAAL,CAAW,KAAI,CAAC,KAAL,CAAW,QAAX,EAAX,CAAhD,EAAkF;AAChF,QAAA,OAAO,CAAC,IAAR,CAAa,KAAb;AACA,QAAA,KAAI,CAAC,YAAL,GAAkB,IAAlB;AACD;AANW;AAOb;;AACM,EAAA,UAAU,GAAA;AACf,SAAK,MAAL,CAAY,aAAZ,CAA0B,gBAA1B,EAA4C;AAAE,MAAA,KAAK,EAAE;AAAE,QAAA,MAAM,EAAE,KAAK;AAAf;AAAT,KAA5C;AAED;;AA1B6B,CAAhC;;AAGE,UAAA,CAAA,CADC,KAAK,EACN,CAAA,E,6BAAA,E,QAAA,E,KAAgB,CAAhB,CAAA;;AAHW,mBAAmB,GAAA,UAAA,CAAA,CAL/B,SAAS,CAAC;AACT,EAAA,QAAQ,EAAE,iBADD;AAET,EAAA,WAAW,EAAE,8BAFJ;AAGT,EAAA,SAAS,EAAE,CAAC,6BAAD;AAHF,CAAD,CAKsB,CAAA,EAAnB,mBAAmB,CAAnB;SAAA,mB","sourcesContent":["import { DatePipe } from '@angular/common';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Ticket } from 'src/app/interfaces/ticket';\nimport { TicketService } from 'src/app/services/ticket/ticket.service';\n\n@Component({\n  selector: 'app-ticket-card',\n  templateUrl: './ticket-card.component.html',\n  styleUrls: ['./ticket-card.component.css']\n})\nexport class TicketCardComponent implements OnInit {\n\n  @Input()\n  ticket!: Ticket;\n\n  commentCount=0;\n  currentUsername = localStorage.getItem(\"username\");\n\n  today:Date = new Date();\n\n  deadlineBool=false;\n  \n\n  constructor(public ticketService:TicketService,public router: Router, public datepipe:DatePipe) { }\n\n  async ngOnInit(): Promise<void> {\n    this.commentCount = await this.ticketService.getCommentsCountForTicket(this.ticket.id).toPromise();\n\n    if(Date.parse(this.ticket?.deadline.toString())<Date.parse(this.today.toString())){\n      console.warn(\"pog\");\n      this.deadlineBool=true;\n    }\n  }\n  public openTicket(){\n    this.router.navigateByUrl('tickets/ticket', { state: { ticket: this.ticket } });\n    \n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}