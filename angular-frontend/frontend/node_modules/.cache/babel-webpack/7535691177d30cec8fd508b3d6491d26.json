{"ast":null,"code":"import _asyncToGenerator from \"/home/geri/Documents/angular-frontend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/priority/priority.service\";\nimport * as i3 from \"src/app/services/project/project.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i6 from \"@angular/common\";\n\nfunction EditProjectComponent_button_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function EditProjectComponent_button_33_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const prio_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.setPriority(prio_r4);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const prio_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" Type: \", prio_r4.priorityType, \" | Importance: \", prio_r4.importance, \" (higher the more important) \");\n  }\n}\n\nexport class EditProjectComponent {\n  constructor(router, priorityService, projectService) {\n    this.router = router;\n    this.priorityService = priorityService;\n    this.projectService = projectService;\n    const navigation = this.router.getCurrentNavigation();\n\n    if (navigation) {\n      this.project = navigation.extras.state ? navigation.extras.state.project : 0;\n      this.roles = navigation.extras.state ? navigation.extras.state.roles : 0;\n    } //On page refresh, the state is lost along with the object so I reroute the user back to projects \n\n\n    if (this.project.id == null) {\n      this.router.navigateByUrl(\"/projects\");\n    }\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.priorities = yield _this.priorityService.getPriorities().toPromise();\n    })();\n  }\n\n  setPriority(priority) {\n    this.selectedPriority = priority;\n  }\n\n  onUpdateProject(updateProjectForm) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a, _b, _c;\n\n      const projectTitle = (_a = updateProjectForm.form.get('project_title')) === null || _a === void 0 ? void 0 : _a.value;\n      const projectDescription = (_b = updateProjectForm.form.get('project_description')) === null || _b === void 0 ? void 0 : _b.value;\n      const projectOpen = (_c = updateProjectForm.form.get('project_status')) === null || _c === void 0 ? void 0 : _c.value;\n      alert(\"Project title: \" + projectTitle + \"\\n Project Desc: \" + projectDescription + \"\\n Project open: \" + projectOpen + \"\\n Priority ID: \" + _this2.selectedPriority.id);\n      _this2.project.projectName = projectTitle;\n      _this2.project.projectDescription = projectDescription;\n      _this2.project.projectOpen = projectOpen;\n\n      _this2.projectService.updateProject(_this2.project.id, _this2.selectedPriority.id, _this2.project).subscribe(response => {\n        alert(\"Project Updated\");\n      }, error => {\n        alert(error.message);\n      });\n    })();\n  }\n\n}\n\nEditProjectComponent.ɵfac = function EditProjectComponent_Factory(t) {\n  return new (t || EditProjectComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PriorityService), i0.ɵɵdirectiveInject(i3.ProjectService));\n};\n\nEditProjectComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditProjectComponent,\n  selectors: [[\"app-edit-project\"]],\n  decls: 49,\n  vars: 7,\n  consts: [[1, \"content\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"card\"], [1, \"card-header\", \"card-header-primary\"], [1, \"card-title\"], [1, \"card-category\"], [1, \"card-body\"], [3, \"ngSubmit\"], [\"updateProjectForm\", \"ngForm\"], [1, \"form-group\"], [1, \"bmd-label-floating\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"project_title\", \"required\", \"\", \"maxlength\", \"50\", 1, \"form-control\", 3, \"value\"], [\"input\", \"\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"project_description\", \"required\", \"\", \"maxlength\", \"2000\", 1, \"form-control\", 3, \"value\"], [1, \"col-md-2\"], [\"ngbDropdown\", \"\", 1, \"d-inline-block\"], [\"id\", \"priorityDropDown\", \"ngbDropdownToggle\", \"\", \"type\", \"button\", 1, \"btn\", \"btn-outline-primary\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"priorityDropDown\"], [\"ngbDropdownItem\", \"\", \"type\", \"button\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"align-items\", \"center\", 1, \"col-md-2\", \"center\"], [\"text-align\", \"center\", \"vertical-align\", \"middle\", 1, \"bmd-label-floating\", \"center\"], [1, \"form-check\"], [1, \"form-check-label\"], [\"type\", \"checkbox\", \"value\", \"\", \"checked\", \"\", \"ngModel\", \"\", \"name\", \"project_status\", 1, \"form-check-input\"], [1, \"form-check-sign\"], [1, \"check\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"pull-right\", 3, \"disabled\"], [1, \"clearfix\"], [\"ngbDropdownItem\", \"\", \"type\", \"button\", 3, \"click\"]],\n  template: function EditProjectComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r7 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"h4\", 6);\n      i0.ɵɵtext(7, \"Edit Project\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"p\", 7);\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 8);\n      i0.ɵɵelementStart(11, \"form\", 9, 10);\n      i0.ɵɵlistener(\"ngSubmit\", function EditProjectComponent_Template_form_ngSubmit_11_listener() {\n        i0.ɵɵrestoreView(_r7);\n\n        const _r0 = i0.ɵɵreference(12);\n\n        return ctx.onUpdateProject(_r0);\n      });\n      i0.ɵɵelementStart(13, \"div\", 2);\n      i0.ɵɵelementStart(14, \"div\", 3);\n      i0.ɵɵelementStart(15, \"div\", 11);\n      i0.ɵɵelementStart(16, \"label\", 12);\n      i0.ɵɵtext(17, \"Project Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 13, 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 2);\n      i0.ɵɵelementStart(21, \"div\", 3);\n      i0.ɵɵelementStart(22, \"div\", 11);\n      i0.ɵɵelementStart(23, \"label\", 12);\n      i0.ɵɵtext(24, \"Project Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 15, 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 2);\n      i0.ɵɵelementStart(28, \"div\", 16);\n      i0.ɵɵelementStart(29, \"div\", 17);\n      i0.ɵɵelementStart(30, \"button\", 18);\n      i0.ɵɵtext(31, \" Priority \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 19);\n      i0.ɵɵtemplate(33, EditProjectComponent_button_33_Template, 2, 2, \"button\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"div\", 21);\n      i0.ɵɵelementStart(35, \"label\", 22);\n      i0.ɵɵtext(36);\n      i0.ɵɵelement(37, \"br\");\n      i0.ɵɵtext(38);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"div\", 21);\n      i0.ɵɵelementStart(40, \"div\", 23);\n      i0.ɵɵelementStart(41, \"label\", 24);\n      i0.ɵɵtext(42, \" Project open \");\n      i0.ɵɵelement(43, \"input\", 25);\n      i0.ɵɵelementStart(44, \"span\", 26);\n      i0.ɵɵelement(45, \"span\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"button\", 28);\n      i0.ɵɵtext(47, \" Update Project \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(48, \"div\", 29);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(12);\n\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(ctx.project.projectName);\n      i0.ɵɵadvance(9);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx == null ? null : ctx.project == null ? null : ctx.project.projectName);\n      i0.ɵɵadvance(7);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx == null ? null : ctx.project == null ? null : ctx.project.projectDescription);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngForOf\", ctx.priorities);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Project Priority: \", ctx == null ? null : ctx.selectedPriority == null ? null : ctx.selectedPriority.priorityType, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" Importance level: \", ctx == null ? null : ctx.selectedPriority == null ? null : ctx.selectedPriority.importance, \" \");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"disabled\", !_r0.valid);\n    }\n  },\n  directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i4.RequiredValidator, i4.MaxLengthValidator, i5.NgbDropdown, i5.NgbDropdownToggle, i5.NgbDropdownMenu, i6.NgForOf, i4.CheckboxControlValueAccessor, i5.NgbDropdownItem],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlZGl0LXByb2plY3QuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["/home/geri/Documents/angular-frontend/frontend/src/app/components/edit-project/edit-project.component.ts","/home/geri/Documents/angular-frontend/frontend/src/app/components/edit-project/edit-project.component.html"],"names":[],"mappings":";;;;;;;;;;;;;AC0CsB,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,QAAA,EAAA,EAAA;AAAwD,IAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,+DAAA,GAAA;AAAA,YAAA,WAAA,GAAA,EAAA,CAAA,aAAA,CAAA,GAAA,CAAA;AAAA,YAAA,OAAA,GAAA,WAAA,CAAA,SAAA;AAAA,YAAA,MAAA,GAAA,EAAA,CAAA,aAAA,EAAA;AAAA,aAAA,MAAA,CAAA,WAAA,CAAA,OAAA,CAAA;AAAA,KAAA;AACtD,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AACF,IAAA,EAAA,CAAA,YAAA;;;;;AADE,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,kBAAA,CAAA,SAAA,EAAA,OAAA,CAAA,YAAA,EAAA,iBAAA,EAAA,OAAA,CAAA,UAAA,EAAA,+BAAA;;;;AD5BxB,OAAM,MAAO,oBAAP,CAA2B;AAO/B,EAAA,WAAA,CAAmB,MAAnB,EAAyC,eAAzC,EAAiF,cAAjF,EAA8G;AAA3F,SAAA,MAAA,GAAA,MAAA;AAAsB,SAAA,eAAA,GAAA,eAAA;AAAwC,SAAA,cAAA,GAAA,cAAA;AAC/E,UAAM,UAAU,GAAI,KAAK,MAAL,CAAY,oBAAZ,EAApB;;AACC,QAAG,UAAH,EAAc;AACb,WAAK,OAAL,GAAe,UAAU,CAAC,MAAX,CAAkB,KAAlB,GAA0B,UAAU,CAAC,MAAX,CAAkB,KAAlB,CAAwB,OAAlD,GAA4D,CAA3E;AACA,WAAK,KAAL,GAAa,UAAU,CAAC,MAAX,CAAkB,KAAlB,GAA0B,UAAU,CAAC,MAAX,CAAkB,KAAlB,CAAwB,KAAlD,GAA0D,CAAvE;AACD,KAL2G,CAS5G;;;AACA,QAAG,KAAK,OAAL,CAAa,EAAb,IAAiB,IAApB,EAAyB;AACvB,WAAK,MAAL,CAAY,aAAZ,CAA0B,WAA1B;AACD;AACD;;AAEI,EAAA,QAAQ,GAAA;AAAA;;AAAA;AACZ,MAAA,KAAI,CAAC,UAAL,SAAwB,KAAI,CAAC,eAAL,CAAqB,aAArB,GAAqC,SAArC,EAAxB;AADY;AAEb;;AAEM,EAAA,WAAW,CAAC,QAAD,EAAkB;AAClC,SAAK,gBAAL,GAAsB,QAAtB;AAGD;;AACY,EAAA,eAAe,CAAC,iBAAD,EAA0B;AAAA;;AAAA;;;AACpD,YAAM,YAAY,GAAG,CAAA,EAAA,GAAA,iBAAiB,CAAC,IAAlB,CAAuB,GAAvB,CAA2B,eAA3B,CAAA,MAA2C,IAA3C,IAA2C,EAAA,KAAA,KAAA,CAA3C,GAA2C,KAAA,CAA3C,GAA2C,EAAA,CAAE,KAAlE;AACA,YAAM,kBAAkB,GAAG,CAAA,EAAA,GAAA,iBAAiB,CAAC,IAAlB,CAAuB,GAAvB,CAA2B,qBAA3B,CAAA,MAAiD,IAAjD,IAAiD,EAAA,KAAA,KAAA,CAAjD,GAAiD,KAAA,CAAjD,GAAiD,EAAA,CAAE,KAA9E;AACA,YAAM,WAAW,GAAI,CAAA,EAAA,GAAA,iBAAiB,CAAC,IAAlB,CAAuB,GAAvB,CAA2B,gBAA3B,CAAA,MAA4C,IAA5C,IAA4C,EAAA,KAAA,KAAA,CAA5C,GAA4C,KAAA,CAA5C,GAA4C,EAAA,CAAE,KAAnE;AACA,MAAA,KAAK,CAAC,oBAAkB,YAAlB,GAA+B,mBAA/B,GAAmD,kBAAnD,GAAsE,mBAAtE,GAA0F,WAA1F,GAAsG,kBAAtG,GAAyH,MAAI,CAAC,gBAAL,CAAsB,EAAhJ,CAAL;AACA,MAAA,MAAI,CAAC,OAAL,CAAa,WAAb,GAAyB,YAAzB;AACA,MAAA,MAAI,CAAC,OAAL,CAAa,kBAAb,GAAgC,kBAAhC;AACA,MAAA,MAAI,CAAC,OAAL,CAAa,WAAb,GAAyB,WAAzB;;AAGA,MAAA,MAAI,CAAC,cAAL,CAAoB,aAApB,CAAkC,MAAI,CAAC,OAAL,CAAa,EAA/C,EAAkD,MAAI,CAAC,gBAAL,CAAsB,EAAxE,EAA2E,MAAI,CAAC,OAAhF,EAAyF,SAAzF,CACG,QAAD,IAAqB;AACnB,QAAA,KAAK,CAAC,iBAAD,CAAL;AAED,OAJH,EAKG,KAAD,IAA6B;AAC3B,QAAA,KAAK,CAAC,KAAK,CAAC,OAAP,CAAL;AACD,OAPH;AAVoD;AAsBrD;;AArD8B;;;mBAApB,oB,EAAoB,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,MAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,eAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,cAAA,C;AAAA,C;;;QAApB,oB;AAAoB,EAAA,SAAA,EAAA,CAAA,CAAA,kBAAA,CAAA,C;AAAA,EAAA,KAAA,EAAA,E;AAAA,EAAA,IAAA,EAAA,C;AAAA,EAAA,MAAA,EAAA,CAAA,CAAA,CAAA,EAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAA,iBAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA,CAAA,EAAA,CAAA,CAAA,EAAA,WAAA,CAAA,EAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,aAAA,EAAA,qBAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,CAAA,EAAA,CAAA,CAAA,EAAA,eAAA,CAAA,EAAA,CAAA,CAAA,EAAA,WAAA,CAAA,EAAA,CAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,mBAAA,EAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,CAAA,EAAA,CAAA,CAAA,EAAA,oBAAA,CAAA,EAAA,CAAA,MAAA,EAAA,MAAA,EAAA,SAAA,EAAA,EAAA,EAAA,MAAA,EAAA,eAAA,EAAA,UAAA,EAAA,EAAA,EAAA,WAAA,EAAA,IAAA,EAAA,CAAA,EAAA,cAAA,EAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,OAAA,EAAA,EAAA,CAAA,EAAA,CAAA,MAAA,EAAA,MAAA,EAAA,SAAA,EAAA,EAAA,EAAA,MAAA,EAAA,qBAAA,EAAA,UAAA,EAAA,EAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,EAAA,cAAA,EAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,aAAA,EAAA,EAAA,EAAA,CAAA,EAAA,gBAAA,CAAA,EAAA,CAAA,IAAA,EAAA,kBAAA,EAAA,mBAAA,EAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,KAAA,EAAA,qBAAA,CAAA,EAAA,CAAA,iBAAA,EAAA,EAAA,EAAA,iBAAA,EAAA,kBAAA,CAAA,EAAA,CAAA,iBAAA,EAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,OAAA,EAAA,CAAA,EAAA,OAAA,EAAA,SAAA,CAAA,EAAA,CAAA,aAAA,EAAA,QAAA,EAAA,CAAA,EAAA,UAAA,EAAA,QAAA,CAAA,EAAA,CAAA,YAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,QAAA,EAAA,CAAA,EAAA,oBAAA,EAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,CAAA,EAAA,CAAA,CAAA,EAAA,kBAAA,CAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,OAAA,EAAA,EAAA,EAAA,SAAA,EAAA,EAAA,EAAA,SAAA,EAAA,EAAA,EAAA,MAAA,EAAA,gBAAA,EAAA,CAAA,EAAA,kBAAA,CAAA,EAAA,CAAA,CAAA,EAAA,iBAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,KAAA,EAAA,aAAA,EAAA,YAAA,EAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,iBAAA,EAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,OAAA,CAAA,C;AAAA,EAAA,QAAA,EAAA,SAAA,6BAAA,CAAA,EAAA,EAAA,GAAA,EAAA;AAAA,QAAA,EAAA,GAAA,CAAA,EAAA;;;ACdjC,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA,EAAA,CAAA;AAAuB,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,cAAA;AAAY,MAAA,EAAA,CAAA,YAAA;AACnC,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,CAAA;AAAyB,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AAAuB,MAAA,EAAA,CAAA,YAAA;AAClD,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AAAmC,MAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,SAAA,uDAAA,GAAA;AAAA,QAAA,EAAA,CAAA,aAAA,CAAA,GAAA;;AAAA,cAAA,GAAA,GAAA,EAAA,CAAA,WAAA,CAAA,EAAA,CAAA;;AAAA,eAAY,GAAA,CAAA,eAAA,CAAA,GAAA,CAAZ;AAA8C,OAA9C;AACjC,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA;AAAkC,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,eAAA;AAAa,MAAA,EAAA,CAAA,YAAA;AAC/C,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA,EAAA,EAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA;AACG,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,qBAAA;AAAmB,MAAA,EAAA,CAAA,YAAA;AAEtB,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA,EAAA,EAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,CAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,QAAA,EAAA,EAAA;AAME,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,uCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,EAAA;AAGF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA;AAIG,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA;AAA2D,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA;AAAK,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA;AACnE,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,gBAAA;AACA,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA;AAOA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,MAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,MAAA,EAAA,EAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,QAAA,EAAA,EAAA;AACE,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,kBAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AAIF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;AACF,MAAA,EAAA,CAAA,YAAA;;;;;;AA/EqC,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,iBAAA,CAAA,GAAA,CAAA,OAAA,CAAA,WAAA;AAQuB,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,qBAAA,CAAA,OAAA,EAAA,GAAA,IAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,OAAA,IAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,OAAA,CAAA,WAAA;AAUC,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,qBAAA,CAAA,OAAA,EAAA,GAAA,IAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,OAAA,IAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,OAAA,CAAA,kBAAA;AAgBE,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,UAAA;AAW1C,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,kBAAA,CAAA,oBAAA,EAAA,GAAA,IAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,gBAAA,IAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,gBAAA,CAAA,YAAA,EAAA,GAAA;AAAgE,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,kBAAA,CAAA,qBAAA,EAAA,GAAA,IAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,gBAAA,IAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,gBAAA,CAAA,UAAA,EAAA,GAAA;AAqBd,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,CAAA,GAAA,CAAA,KAAA","sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Priority } from 'src/app/interfaces/priority';\nimport { Project } from 'src/app/interfaces/project';\nimport { Role } from 'src/app/interfaces/role';\nimport { PriorityService } from 'src/app/services/priority/priority.service';\nimport { ProjectService } from 'src/app/services/project/project.service';\n\n@Component({\n  selector: 'app-edit-project',\n  templateUrl: './edit-project.component.html',\n  styleUrls: ['./edit-project.component.css']\n})\nexport class EditProjectComponent implements OnInit {\n\n\n  project !: Project;\n  roles!: Role[];\n  priorities!:Priority[];\n  selectedPriority!: Priority;\n  constructor(public router:Router, public priorityService:PriorityService, public projectService:ProjectService) {\n    const navigation  = this.router.getCurrentNavigation();\n     if(navigation){\n      this.project = navigation.extras.state ? navigation.extras.state.project : 0;\n      this.roles = navigation.extras.state ? navigation.extras.state.roles : 0;\n    }\n\n    \n\n    //On page refresh, the state is lost along with the object so I reroute the user back to projects \n    if(this.project.id==null){\n      this.router.navigateByUrl(\"/projects\");\n    }\n   }\n\n  async ngOnInit(): Promise<void> {\n    this.priorities = await this.priorityService.getPriorities().toPromise();\n  }\n\n  public setPriority(priority:Priority):void{\n    this.selectedPriority=priority;\n    \n\n  }\n  public async onUpdateProject(updateProjectForm: NgForm):Promise<void>{\n    const projectTitle = updateProjectForm.form.get('project_title')?.value;\n    const projectDescription = updateProjectForm.form.get('project_description')?.value;\n    const projectOpen =  updateProjectForm.form.get('project_status')?.value;\n    alert(\"Project title: \"+projectTitle+\"\\n Project Desc: \"+projectDescription+\"\\n Project open: \"+projectOpen+\"\\n Priority ID: \"+this.selectedPriority.id);\n    this.project.projectName=projectTitle;\n    this.project.projectDescription=projectDescription;\n    this.project.projectOpen=projectOpen;\n    \n\n    this.projectService.updateProject(this.project.id,this.selectedPriority.id,this.project).subscribe(\n      (response: Project)=>  {\n        alert(\"Project Updated\")\n        \n      },\n      (error: HttpErrorResponse) =>{\n        alert(error.message);\n      }    \n    )\n    \n\n\n  }\n\n}\n","\n<div class=\"content\">\n  <div class=\"container-fluid\">\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <div class=\"card\">\n          <div class=\"card-header card-header-primary\">\n            <h4 class=\"card-title\">Edit Project</h4>\n            <p class=\"card-category\">{{project.projectName}}</p>\n          </div>\n          <div class=\"card-body\">\n            <form #updateProjectForm=\"ngForm\"  (ngSubmit)=\"onUpdateProject(updateProjectForm)\">\n              <div class=\"row\">\n                <div class=\"col-md-12\">\n                  <div class=\"form-group\">\n                    <label class=\"bmd-label-floating\">Project Title</label>\n                    <input type=\"text\" class=\"form-control\" value=\"{{this?.project?.projectName}}\" ngModel name=\"project_title\" #input required maxlength=\"50\"/>\n                  </div>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-md-12\">\n                  <div class=\"form-group\">\n                    <label class=\"bmd-label-floating\"\n                      >Project Description</label\n                    >\n                    <input type=\"text\" class=\"form-control\"  value=\"{{this?.project?.projectDescription}}\" ngModel name=\"project_description\" #input required maxlength=\"2000\"/>\n                  </div>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-md-2\">\n                  <div ngbDropdown class=\"d-inline-block\">\n                    <button\n                      class=\"btn btn-outline-primary\"\n                      id=\"priorityDropDown\"\n                      ngbDropdownToggle\n                      type=\"button\"\n                    >\n                      Priority\n                    </button>\n                    <div ngbDropdownMenu aria-labelledby=\"priorityDropDown\">\n                      <button ngbDropdownItem *ngFor=\"let prio of priorities\" (click)=\"setPriority(prio)\" type=\"button\">\n                        Type: {{prio.priorityType}} | Importance: {{prio.importance}} (higher the more important)\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-2 center\" align-items=\"center\">\n                  <label\n                    class=\"bmd-label-floating center\"\n                    text-align=\"center\"\n                    vertical-align=\"middle\"\n                    >Project Priority: {{this?.selectedPriority?.priorityType}} <br> Importance level:  {{this?.selectedPriority?.importance}}\n                  </label>\n                </div>\n                <div class=\"col-md-2 center\" align-items=\"center\">\n                  <div class=\"form-check\">\n                    <label class=\"form-check-label\">\n                      Project open\n                      <input\n                        class=\"form-check-input\"\n                        type=\"checkbox\"\n                        value=\"\"\n                        checked\n                        ngModel name=\"project_status\"\n                      />\n                      <span class=\"form-check-sign\">\n                        <span class=\"check\"></span>\n                      </span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <button type=\"submit\" class=\"btn btn-primary pull-right\" [disabled]=\"!updateProjectForm.valid\">\n                Update Project\n              </button>\n              <div class=\"clearfix\"></div>\n            </form>\n          </div>\n        </div>\n      </div>\n\n      <!--<div class=\"card card-stats col-md-4\">\n        </div>-->\n    </div>\n  </div>\n</div>\n\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}