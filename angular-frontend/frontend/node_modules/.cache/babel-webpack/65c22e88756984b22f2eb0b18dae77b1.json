{"ast":null,"code":"import _asyncToGenerator from \"/home/geri/Documents/angular-frontend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/ticket/ticket.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"./ticket-card/ticket-card.component\";\n\nfunction TicketsComponent_app_ticket_card_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-ticket-card\", 12);\n    i0.ɵɵlistener(\"onTagClicked\", function TicketsComponent_app_ticket_card_33_Template_app_ticket_card_onTagClicked_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.changeTag($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ticket_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"ticket\", ticket_r1);\n  }\n}\n\nexport let TicketsComponent = /*#__PURE__*/(() => {\n  class TicketsComponent {\n    constructor(ticketService, router) {\n      this.ticketService = ticketService;\n      this.router = router;\n      this.pageNo = 0;\n      this.sortBy = \"created\";\n      this.getBy = \"all\";\n      this.tag = {\n        id: 0,\n        tag: {},\n        tickets: {}\n      };\n      const navigation = this.router.getCurrentNavigation();\n\n      if (navigation) {\n        this.tag = navigation.extras.state ? navigation.extras.state.tag : {\n          id: 0,\n          tag: {},\n          tickets: {}\n        };\n      }\n    }\n\n    ngOnInit() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        _this.loadTickets();\n      })();\n    }\n\n    nextTickets() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        if (_this2.tickets.length != 0) {\n          console.warn(\"click called\");\n          _this2.pageNo += 1;\n\n          _this2.loadTickets();\n        }\n      })();\n    }\n\n    previousTickets() {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        if (_this3.pageNo !== 0) {\n          _this3.pageNo -= 1;\n          console.warn(\"click called\");\n\n          _this3.loadTickets();\n        }\n      })();\n    }\n\n    loadTickets() {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        _this4.tickets = yield _this4.ticketService.getTicketsOfProjectsWithUser(_this4.pageNo, _this4.sortBy, _this4.getBy, _this4.tag.id).toPromise();\n      })();\n    }\n\n    changeSortBy(sortBy) {\n      this.sortBy = sortBy;\n      this.loadTickets();\n    }\n\n    changeGetBy(getBy) {\n      this.getBy = getBy;\n      this.tag.id = 0;\n      this.loadTickets();\n    }\n\n    changeTag(tag) {\n      this.tag = tag;\n      this.loadTickets();\n    }\n\n  }\n\n  TicketsComponent.ɵfac = function TicketsComponent_Factory(t) {\n    return new (t || TicketsComponent)(i0.ɵɵdirectiveInject(i1.TicketService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  TicketsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TicketsComponent,\n    selectors: [[\"app-tickets\"]],\n    decls: 40,\n    vars: 3,\n    consts: [[1, \"content\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-2\"], [\"ngbDropdown\", \"\", 1, \"d-inline-block\"], [\"id\", \"priorityDropDown\", \"ngbDropdownToggle\", \"\", \"type\", \"button\", 1, \"btn\", \"btn-outline-primary\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"priorityDropDown\"], [\"ngbDropdownItem\", \"\", 3, \"click\"], [\"class\", \"col-lg-3 col-md-6 col-sm-6\", 3, \"ticket\", \"onTagClicked\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"Previous 10 Tickets\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", \"btn-outline-primary\", 3, \"click\"], [1, \"material-icons\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"Next 10 Tickets\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", \"btn-outline-primary\", 3, \"click\"], [1, \"col-lg-3\", \"col-md-6\", \"col-sm-6\", 3, \"ticket\", \"onTagClicked\"]],\n    template: function TicketsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"button\", 5);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_8_listener() {\n          return ctx.changeSortBy(\"created\");\n        });\n        i0.ɵɵtext(9, \" Date Created \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_10_listener() {\n          return ctx.changeSortBy(\"priority\");\n        });\n        i0.ɵɵtext(11, \" Priority \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_12_listener() {\n          return ctx.changeSortBy(\"deadline\");\n        });\n        i0.ɵɵtext(13, \" Deadline \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 3);\n        i0.ɵɵelementStart(15, \"div\", 4);\n        i0.ɵɵelementStart(16, \"button\", 5);\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 6);\n        i0.ɵɵelementStart(19, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_19_listener() {\n          return ctx.changeGetBy(\"all\");\n        });\n        i0.ɵɵtext(20, \"All\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_21_listener() {\n          return ctx.changeGetBy(\"owned by\");\n        });\n        i0.ɵɵtext(22, \" Owned by you \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_23_listener() {\n          return ctx.changeGetBy(\"assigned to\");\n        });\n        i0.ɵɵtext(24, \" Assigned to ticket \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_25_listener() {\n          return ctx.changeGetBy(\"active\");\n        });\n        i0.ɵɵtext(26, \" Active \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_27_listener() {\n          return ctx.changeGetBy(\"onhold\");\n        });\n        i0.ɵɵtext(28, \" On Hold \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_29_listener() {\n          return ctx.changeGetBy(\"closed\");\n        });\n        i0.ɵɵtext(30, \" Closed \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"div\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 2);\n        i0.ɵɵtemplate(33, TicketsComponent_app_ticket_card_33_Template, 1, 1, \"app-ticket-card\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_34_listener() {\n          return ctx.previousTickets();\n        });\n        i0.ɵɵelementStart(35, \"i\", 10);\n        i0.ɵɵtext(36, \"chevron_left\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_37_listener() {\n          return ctx.nextTickets();\n        });\n        i0.ɵɵelementStart(38, \"i\", 10);\n        i0.ɵɵtext(39, \"chevron_right\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" Sort By: \", ctx.sortBy, \" \");\n        i0.ɵɵadvance(11);\n        i0.ɵɵtextInterpolate1(\" Get By: \", ctx.tag.id == 0 ? ctx.getBy : \"Getting Tickets With Tag: \" + ctx.tag.tag, \" \");\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.tickets);\n      }\n    },\n    directives: [i3.NgbDropdown, i3.NgbDropdownToggle, i3.NgbDropdownMenu, i3.NgbDropdownItem, i4.NgForOf, i5.TicketCardComponent],\n    styles: [\"\"]\n  });\n  return TicketsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}