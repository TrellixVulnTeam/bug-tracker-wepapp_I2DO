{"ast":null,"code":"import _asyncToGenerator from \"/home/geri/Documents/angular-frontend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/ticket/ticket.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction TicketCardComponent_button_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵelementStart(1, \"a\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tag_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", tag_r1.tag, \" \");\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return {\n    \"card-header card-header-success card-header-icon\": a0,\n    \"card-header card-header-danger card-header-icon\": a1\n  };\n};\n\nexport class TicketCardComponent {\n  constructor(ticketService, router) {\n    this.ticketService = ticketService;\n    this.router = router;\n    this.commentCount = 0;\n    this.currentUsername = localStorage.getItem(\"username\");\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.commentCount = yield _this.ticketService.getCommentsCountForTicket(_this.ticket.id).toPromise();\n    })();\n  }\n\n  openTicket() {\n    this.router.navigateByUrl('tickets/ticket', {\n      state: {\n        ticket: this.ticket\n      }\n    });\n  }\n\n}\n\nTicketCardComponent.ɵfac = function TicketCardComponent_Factory(t) {\n  return new (t || TicketCardComponent)(i0.ɵɵdirectiveInject(i1.TicketService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nTicketCardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TicketCardComponent,\n  selectors: [[\"app-ticket-card\"]],\n  inputs: {\n    ticket: \"ticket\"\n  },\n  decls: 31,\n  vars: 11,\n  consts: [[1, \"card\", \"card-stats\"], [1, \"card-header\", \"card-header-danger\", \"card-header-icon\"], [1, \"card-icon\", 3, \"ngClass\"], [1, \"material-icons\"], [1, \"card-category\"], [1, \"card-title\"], [1, \"card-footer\"], [1, \"stats\"], [1, \"stats\", 3, \"ngClass\"], [1, \"card-footer\", \"container-fluid\"], [1, \"stats\", \"row\", \"col-md-12\", \"container-fluid\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"View tickets with this tag\", \"class\", \"btn btn-primary btn-link btn-sm \", 4, \"ngFor\", \"ngForOf\"], [1, \"card-footer\", \"pull-right\"], [1, \"col-md-8\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"View ticket\", \"routerLink\", \"./ticket\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", \"pull-right\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"View tickets with this tag\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\"]],\n  template: function TicketCardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"i\", 3);\n      i0.ɵɵtext(4, \"bug_report\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\", 4);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"h3\", 5);\n      i0.ɵɵtext(8, \" Ticket title \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 6);\n      i0.ɵɵelementStart(10, \"div\", 7);\n      i0.ɵɵelementStart(11, \"a\");\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 6);\n      i0.ɵɵelementStart(14, \"div\", 8);\n      i0.ɵɵelementStart(15, \"a\");\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 6);\n      i0.ɵɵelementStart(18, \"div\", 7);\n      i0.ɵɵelementStart(19, \"a\");\n      i0.ɵɵtext(20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 9);\n      i0.ɵɵelementStart(22, \"div\", 10);\n      i0.ɵɵelementStart(23, \"a\");\n      i0.ɵɵtext(24, \" Tags: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(25, TicketCardComponent_button_25_Template, 3, 1, \"button\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 12);\n      i0.ɵɵelement(27, \"div\", 13);\n      i0.ɵɵelementStart(28, \"button\", 14);\n      i0.ɵɵelementStart(29, \"i\", 3);\n      i0.ɵɵtext(30, \"visibility\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(8, _c0, ctx.ticket.status == \"OPEN\", ctx.ticket.status == \"CLOSED\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Ticket: \", ctx.ticket.status.toLowerCase(), \"\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"Comments: \", ctx.commentCount, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", (ctx.ticket.assignedUser == null ? null : ctx.ticket.assignedUser.userName) == ctx.currentUsername ? \"stats text-warning\" : \"stats\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Assigned to: \", ctx.ticket.assignedUser == null ? null : ctx.ticket.assignedUser.userName, \" \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate2(\"Priority: \", ctx.ticket.ticketPriority.priorityType, \" && Level: \", ctx.ticket.ticketPriority.importance, \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.ticket.tags);\n    }\n  },\n  directives: [i3.NgClass, i3.NgForOf, i2.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0aWNrZXQtY2FyZC5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["/home/geri/Documents/angular-frontend/frontend/src/app/components/tickets/ticket-card/ticket-card.component.ts","/home/geri/Documents/angular-frontend/frontend/src/app/components/tickets/ticket-card/ticket-card.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Ticket } from 'src/app/interfaces/ticket';\nimport { TicketService } from 'src/app/services/ticket/ticket.service';\n\n@Component({\n  selector: 'app-ticket-card',\n  templateUrl: './ticket-card.component.html',\n  styleUrls: ['./ticket-card.component.css']\n})\nexport class TicketCardComponent implements OnInit {\n\n  @Input()\n  ticket!: Ticket;\n\n  commentCount=0;\n  currentUsername = localStorage.getItem(\"username\");\n\n  constructor(public ticketService:TicketService,public router: Router) { }\n\n  async ngOnInit(): Promise<void> {\n    this.commentCount = await this.ticketService.getCommentsCountForTicket(this.ticket.id).toPromise();\n  }\n  public openTicket(){\n    this.router.navigateByUrl('tickets/ticket', { state: { ticket: this.ticket } });\n  }\n\n}\n","<div class=\"card card-stats\">\n    <div class=\"card-header card-header-danger card-header-icon\">\n      <div class=\"card-icon\" [ngClass]=\"{'card-header card-header-success card-header-icon' : this.ticket.status=='OPEN', 'card-header card-header-danger card-header-icon': this.ticket.status=='CLOSED'}\">\n        <i class=\"material-icons\">bug_report</i>\n      </div>\n      <p class=\"card-category\">Ticket: {{ticket.status.toLowerCase()}}</p>\n      <h3 class=\"card-title\">\n        Ticket title\n      </h3>\n    </div>\n    <div class=\"card-footer\">\n        <div class=\"stats\">\n            <a >Comments: {{commentCount}}</a>\n          </div>\n      \n    </div>\n    <div class=\"card-footer\">\n        <div class=\"stats\" [ngClass]=\"ticket.assignedUser?.userName==this.currentUsername ? 'stats text-warning' : 'stats'\">\n            <a >Assigned to: {{ticket.assignedUser?.userName}} </a>\n          </div>\n      \n    </div>\n    <div class=\"card-footer\">\n        <div class=\"stats\">\n            <a >Priority: {{ticket.ticketPriority.priorityType}} && Level: {{ticket.ticketPriority.importance}}</a>\n          </div>\n      \n    </div>\n    <div class=\"card-footer container-fluid\">\n        <div class=\"stats row col-md-12 container-fluid\">\n            <a >  Tags: </a>\n\n            <button\n          type=\"button\"\n          rel=\"tooltip\"\n          title=\"View tickets with this tag\"\n          class=\"btn btn-primary btn-link btn-sm \"\n          *ngFor=\"let tag of ticket.tags\"\n        >\n        <a >{{tag.tag}} </a>\n        </button>\n          </div>\n      \n    </div>\n    <div class=\"card-footer pull-right\">\n        <div class=\"col-md-8\"></div>\n        <button\n          type=\"button\"\n          rel=\"tooltip\"\n          title=\"View ticket\"\n          class=\"btn btn-primary btn-link btn-sm pull-right\"\n          routerLink=\"./ticket\"\n        >\n          <i class=\"material-icons\" >visibility</i>\n        </button>\n        \n      </div>\n  </div>\n\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}