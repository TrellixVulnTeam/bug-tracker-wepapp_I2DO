{"ast":null,"code":"import _asyncToGenerator from \"/home/geri/Documents/angular-frontend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as Notifications from 'src/app/interfaces/globalNotifications/notifications';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"src/app/services/project/project.service\";\nimport * as i4 from \"src/app/services/user/user-service.service\";\nimport * as i5 from \"src/app/services/role/role.service\";\nimport * as i6 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"./tickets-card/tickets-card.component\";\nimport * as i9 from \"./project-user-list-row/project-user-list-row.component\";\n\nfunction ProjectComponent_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 42);\n  }\n\n  if (rf & 2) {\n    const user_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"user\", user_r4)(\"project\", ctx_r0.project);\n  }\n}\n\nfunction ProjectComponent_button_106_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function ProjectComponent_button_106_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const role_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.setRole(role_r5.id);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const role_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" Role : \", role_r5.roleType, \" Access Level: \", role_r5.accessLevel == 1 ? \"Read\" : \"\" || role_r5.accessLevel == 2 ? \"Read & Write\" : \"\" || role_r5.accessLevel == 3 ? \"Owner\" : \"\", \" \");\n  }\n}\n\nexport class ProjectComponent {\n  constructor(router, datepipe, projectService, userService, roleService) {\n    this.router = router;\n    this.datepipe = datepipe;\n    this.projectService = projectService;\n    this.userService = userService;\n    this.roleService = roleService;\n    this.usersPageNo = 0;\n    this.addUserButtonDisabled = false;\n    this.editProjectAndCreateTicketButton = false; //I passed the entire already loaded project object from the projects menu when rerouting as a navigation state variable    \n\n    const navigation = this.router.getCurrentNavigation();\n\n    if (navigation) {\n      this.project = navigation.extras.state ? navigation.extras.state.project : 0;\n    } //On page refresh, the state is lost along with the object so I reroute the user back to projects \n\n\n    if (this.project.id == null) {\n      this.router.navigateByUrl(\"/projects\");\n    }\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.noOfUsers = yield _this.projectService.getProjectNoOfUsers(_this.project.id).toPromise();\n      _this.stats = yield _this.projectService.getProjectStats(_this.project.id).toPromise();\n      _this.users = yield _this.userService.getUsersOfProject(_this.project.id, _this.usersPageNo).toPromise();\n      _this.noOfTickets = _this.stats[0] + _this.stats[1];\n      const userId = localStorage.getItem(\"user_id\");\n      _this.thisUserLink = yield _this.projectService.getUserProjectLink(_this.project.id, Number(userId)).toPromise();\n      _this.roles = yield _this.roleService.getRoles().toPromise();\n\n      if (_this.thisUserLink.role.accessLevel < 3) {\n        _this.addUserButtonDisabled = true;\n      }\n\n      if (_this.thisUserLink.role.accessLevel < 2) {\n        _this.editProjectAndCreateTicketButton = true;\n      }\n    })();\n  }\n\n  nextUsers() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this2.users.length != 0) {\n        console.warn(\"click called\");\n        _this2.usersPageNo += 1;\n        _this2.users = yield _this2.userService.getUsersOfProject(_this2.project.id, _this2.usersPageNo).toPromise();\n      }\n    })();\n  }\n\n  previousUsers() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this3.usersPageNo !== 0) {\n        _this3.usersPageNo -= 1;\n        console.warn(\"click called\");\n        _this3.users = yield _this3.userService.getUsersOfProject(_this3.project.id, _this3.usersPageNo).toPromise();\n      }\n    })();\n  }\n\n  onAddUser(addUserForm) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a, _b;\n\n      const username = (_a = addUserForm.form.get('username')) === null || _a === void 0 ? void 0 : _a.value;\n      _this4.userToBeAdded = yield _this4.userService.getUserByName(username).toPromise();\n\n      if ((_b = _this4.userToBeAdded) === null || _b === void 0 ? void 0 : _b.id) {\n        console.warn(\"User to be added ID: \" + _this4.userToBeAdded.id);\n\n        _this4.projectService.addUserToProject(_this4.userToBeAdded.id, _this4.project.id, _this4.selectedRoleId).subscribe(response => {\n          //alert(\"User: \"+this.userToBeAdded.userName+\" Added to project\");\n          Notifications.addNewAlert(`New Role Created With Name: ${response.user.userName} `, \"success\");\n          const currentUrl = _this4.router.url;\n\n          _this4.router.navigateByUrl('/', {\n            skipLocationChange: true\n          }).then(() => {\n            _this4.router.navigate([currentUrl], {\n              state: {\n                project: response.project\n              }\n            });\n          });\n        }, error => {\n          alert(error.message);\n        });\n      } else {\n        alert(\"User not found\");\n      }\n    })();\n  }\n\n  setRole(role) {\n    this.selectedRoleId = role;\n  }\n\n  openEditProject() {\n    this.router.navigateByUrl('projects/project/edit', {\n      state: {\n        project: this.project\n      }\n    });\n  }\n\n  openAddTicket() {\n    this.router.navigateByUrl('tickets/add', {\n      state: {\n        project: this.project\n      }\n    });\n  }\n\n}\n\nProjectComponent.ɵfac = function ProjectComponent_Factory(t) {\n  return new (t || ProjectComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DatePipe), i0.ɵɵdirectiveInject(i3.ProjectService), i0.ɵɵdirectiveInject(i4.UserServiceService), i0.ɵɵdirectiveInject(i5.RoleService));\n};\n\nProjectComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProjectComponent,\n  selectors: [[\"app-project\"]],\n  decls: 127,\n  vars: 17,\n  consts: [[1, \"content\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-8\"], [1, \"card\"], [1, \"card-header\", \"card-header-primary\"], [1, \"card-title\"], [1, \"card-body\"], [1, \"card-header\", \"card-header-warning\"], [1, \"card-body\", \"table-responsive\"], [1, \"table\", \"table-hover\"], [1, \"text-warning\"], [\"app-project-user-list-row\", \"\", 3, \"user\", \"project\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"Previous 10 Users\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"click\"], [1, \"material-icons\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"Next 10 users\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"click\"], [1, \"card\", \"card-stats\", \"col-md-4\"], [1, \"card-header\", \"card-header-primary\", \"card-header-icon\"], [1, \"card-icon\"], [1, \"card-header\", \"card-header-success\", \"card-header-icon\"], [1, \"card-footer\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"Edit Project\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"type\", \"button\", \"rel\", \"tooltip\", \"title\", \"Create Ticket\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"disabled\", \"click\"], [1, \"col\"], [\"ngbDropdown\", \"\", 1, \"d-inline-block\"], [\"id\", \"assignUserDropdownForm\", \"ngbDropdownToggle\", \"\", \"rel\", \"tooltip\", \"title\", \"Add User To Project\", 1, \"btn\", \"btn-outline-primary\", \"tn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"disabled\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"dropdownForm1\"], [1, \"px-4\", \"py-3\", 3, \"ngSubmit\"], [\"addUserForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"assignUserDropdownFormUsername\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"username\", \"id\", \"assignUserDropdownFormUsername\", \"placeholder\", \"username\", \"autocomplete\", \"username\", \"required\", \"\", 1, \"form-control\"], [\"input\", \"\"], [\"for\", \"assignUserDropdownFormRole\"], [\"id\", \"priorityDropDown\", \"ngbDropdownToggle\", \"\", \"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-link\", \"btn-sm\", 3, \"disabled\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"priorityDropDown\"], [\"ngbDropdownItem\", \"\", \"type\", \"submit\", \"ngModel\", \"\", \"name\", \"role\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-9\"], [3, \"project\"], [1, \"card\", \"card-stats\", \"col-md-3\", \"pull-right\"], [1, \"card-category\"], [1, \"stats\"], [\"app-project-user-list-row\", \"\", 3, \"user\", \"project\"], [\"ngbDropdownItem\", \"\", \"type\", \"submit\", \"ngModel\", \"\", \"name\", \"role\", 3, \"click\"]],\n  template: function ProjectComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r8 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"h4\", 6);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"div\", 6);\n      i0.ɵɵelementStart(10, \"h4\");\n      i0.ɵɵtext(11, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 6);\n      i0.ɵɵelementStart(13, \"p\");\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 4);\n      i0.ɵɵelementStart(16, \"div\", 8);\n      i0.ɵɵelementStart(17, \"h4\", 6);\n      i0.ɵɵtext(18, \"Assigned Users\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 9);\n      i0.ɵɵelementStart(20, \"table\", 10);\n      i0.ɵɵelementStart(21, \"thead\", 11);\n      i0.ɵɵelementStart(22, \"th\");\n      i0.ɵɵtext(23, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\");\n      i0.ɵɵtext(25, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"th\");\n      i0.ɵɵtext(27, \"Completed Tickets\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"th\");\n      i0.ɵɵtext(29, \"Created Tickets\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"th\");\n      i0.ɵɵtext(31, \"Assigned Tickets\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"th\");\n      i0.ɵɵtext(33, \"Role and access level\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"tbody\");\n      i0.ɵɵtemplate(35, ProjectComponent_tr_35_Template, 1, 2, \"tr\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"button\", 13);\n      i0.ɵɵlistener(\"click\", function ProjectComponent_Template_button_click_36_listener() {\n        return ctx.previousUsers();\n      });\n      i0.ɵɵelementStart(37, \"i\", 14);\n      i0.ɵɵtext(38, \"chevron_left\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function ProjectComponent_Template_button_click_39_listener() {\n        return ctx.nextUsers();\n      });\n      i0.ɵɵelementStart(40, \"i\", 14);\n      i0.ɵɵtext(41, \"chevron_right\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"div\", 16);\n      i0.ɵɵelementStart(43, \"div\", 17);\n      i0.ɵɵelementStart(44, \"div\", 18);\n      i0.ɵɵelementStart(45, \"i\", 14);\n      i0.ɵɵtext(46, \"assignment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"h3\", 6);\n      i0.ɵɵtext(48, \"Project Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(49, \"div\", 19);\n      i0.ɵɵelementStart(50, \"div\", 20);\n      i0.ɵɵelementStart(51, \"a\");\n      i0.ɵɵtext(52);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(53, \"div\", 19);\n      i0.ɵɵelementStart(54, \"div\", 20);\n      i0.ɵɵelementStart(55, \"a\");\n      i0.ɵɵtext(56);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(57, \"div\", 19);\n      i0.ɵɵelementStart(58, \"div\", 20);\n      i0.ɵɵelementStart(59, \"a\");\n      i0.ɵɵtext(60);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(61, \"div\", 19);\n      i0.ɵɵelementStart(62, \"div\", 20);\n      i0.ɵɵelementStart(63, \"a\");\n      i0.ɵɵtext(64);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(65, \"div\", 19);\n      i0.ɵɵelementStart(66, \"div\", 20);\n      i0.ɵɵelementStart(67, \"a\");\n      i0.ɵɵtext(68);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(69, \"div\", 19);\n      i0.ɵɵelementStart(70, \"div\", 20);\n      i0.ɵɵelementStart(71, \"a\");\n      i0.ɵɵtext(72, \"Edit Project: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(73, \"button\", 21);\n      i0.ɵɵlistener(\"click\", function ProjectComponent_Template_button_click_73_listener() {\n        return ctx.openEditProject();\n      });\n      i0.ɵɵelementStart(74, \"i\", 14);\n      i0.ɵɵtext(75, \"edit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(76, \"div\", 19);\n      i0.ɵɵelementStart(77, \"div\", 20);\n      i0.ɵɵelementStart(78, \"a\");\n      i0.ɵɵtext(79, \"Create Ticket: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(80, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function ProjectComponent_Template_button_click_80_listener() {\n        return ctx.openAddTicket();\n      });\n      i0.ɵɵelementStart(81, \"i\", 14);\n      i0.ɵɵtext(82, \"add\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(83, \"div\", 19);\n      i0.ɵɵelementStart(84, \"div\", 20);\n      i0.ɵɵelementStart(85, \"div\", 2);\n      i0.ɵɵelementStart(86, \"div\", 23);\n      i0.ɵɵelementStart(87, \"div\", 24);\n      i0.ɵɵelementStart(88, \"button\", 25);\n      i0.ɵɵelementStart(89, \"i\", 14);\n      i0.ɵɵtext(90, \"edit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(91, \"div\", 26);\n      i0.ɵɵelementStart(92, \"form\", 27, 28);\n      i0.ɵɵlistener(\"ngSubmit\", function ProjectComponent_Template_form_ngSubmit_92_listener() {\n        i0.ɵɵrestoreView(_r8);\n\n        const _r1 = i0.ɵɵreference(93);\n\n        return ctx.onAddUser(_r1);\n      });\n      i0.ɵɵelementStart(94, \"div\", 29);\n      i0.ɵɵelementStart(95, \"label\", 30);\n      i0.ɵɵtext(96, \"User's Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(97, \"input\", 31, 32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(99, \"div\", 29);\n      i0.ɵɵelementStart(100, \"label\", 33);\n      i0.ɵɵtext(101, \"User's Role:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(102, \"div\", 24);\n      i0.ɵɵelementStart(103, \"button\", 34);\n      i0.ɵɵtext(104, \" Roles: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(105, \"div\", 35);\n      i0.ɵɵtemplate(106, ProjectComponent_button_106_Template, 2, 2, \"button\", 36);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(107, \"a\");\n      i0.ɵɵtext(108, \": Add User To Project \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(109, \"div\", 2);\n      i0.ɵɵelementStart(110, \"div\", 37);\n      i0.ɵɵelement(111, \"app-tickets-card\", 38);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(112, \"div\", 39);\n      i0.ɵɵelementStart(113, \"div\", 17);\n      i0.ɵɵelementStart(114, \"div\", 18);\n      i0.ɵɵelementStart(115, \"i\", 14);\n      i0.ɵɵtext(116, \"person\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(117, \"h3\", 6);\n      i0.ɵɵtext(118);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(119, \"div\", 40);\n      i0.ɵɵelementStart(120, \"div\", 41);\n      i0.ɵɵelementStart(121, \"a\");\n      i0.ɵɵtext(122);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(123, \"div\", 40);\n      i0.ɵɵelementStart(124, \"div\", 41);\n      i0.ɵɵelementStart(125, \"a\");\n      i0.ɵɵtext(126);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(93);\n\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.project.projectName);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" \", ctx.project.projectDescription, \" \");\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      i0.ɵɵadvance(17);\n      i0.ɵɵtextInterpolate1(\"Start date: \", ctx.datepipe.transform(ctx.project.dateStarted, \"yyyy-MM-dd\"), \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Tickets: \", ctx.noOfTickets, \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Priority: \", ctx.project.projectPriority.priorityType, \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Status: \", ctx.project.projectOpen ? \"Open\" : \"Closed\", \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"No of assigned users: \", ctx.noOfUsers, \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", ctx.editProjectAndCreateTicketButton);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"disabled\", ctx.editProjectAndCreateTicketButton);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"disabled\", ctx.addUserButtonDisabled);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"disabled\", !_r1.valid);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.roles);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"project\", ctx.project);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.thisUserLink.user.userName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Your role: \", ctx.thisUserLink.role.roleType, \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Your access level: \", ctx.thisUserLink.role.accessLevel == 1 ? \"Read\" : \"\" || ctx.thisUserLink.role.accessLevel == 2 ? \"Read & Write\" : \"\" || ctx.thisUserLink.role.accessLevel == 3 ? \"Owner\" : \"\", \"\");\n    }\n  },\n  directives: [i2.NgForOf, i6.NgbDropdown, i6.NgbDropdownToggle, i6.NgbDropdownMenu, i7.ɵNgNoValidate, i7.NgControlStatusGroup, i7.NgForm, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgModel, i7.RequiredValidator, i8.TicketsCardComponent, i9.ProjectUserListRowComponent, i6.NgbDropdownItem],\n  styles: [\"\"]\n});","map":{"version":3,"sources":["/home/geri/Documents/angular-frontend/frontend/src/app/components/project/project.component.ts","/home/geri/Documents/angular-frontend/frontend/src/app/components/project/project.component.html"],"names":[],"mappings":"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","sourcesContent":["import { DatePipe } from '@angular/common';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { NavigationStart, Router, RouterEvent } from '@angular/router';\nimport {Observable, OperatorFunction} from 'rxjs';\nimport {debounceTime, delay, distinctUntilChanged, filter, map} from 'rxjs/operators';\nimport { Project } from 'src/app/interfaces/project';\nimport { ProjectUserRoleLink } from 'src/app/interfaces/project-user-role-link';\nimport { Role } from 'src/app/interfaces/role';\nimport { User } from 'src/app/interfaces/user';\nimport { ProjectService } from 'src/app/services/project/project.service';\nimport { RoleService } from 'src/app/services/role/role.service';\nimport { UserServiceService } from 'src/app/services/user/user-service.service';\nimport * as Notifications from 'src/app/interfaces/globalNotifications/notifications'; \n\n\n@Component({\n  selector: 'app-project',\n  templateUrl: './project.component.html',\n  styleUrls: ['./project.component.css']\n})\nexport class ProjectComponent implements OnInit {\n  public model: any;\n\n  project!: Project;\n  noOfUsers!: number;\n  stats!: number[];\n  noOfTickets!: number;\n  usersPageNo = 0;\n  users!: User[];\n  roles!: Role[];\n  thisUserLink!:ProjectUserRoleLink;\n  addUserButtonDisabled=false;\n  editProjectAndCreateTicketButton=false;\n\n\n\n  constructor(public router:Router, public datepipe:DatePipe, public projectService:ProjectService, public userService: UserServiceService, \n    public roleService: RoleService) { \n    //I passed the entire already loaded project object from the projects menu when rerouting as a navigation state variable    \n    const navigation  = this.router.getCurrentNavigation();\n     if(navigation){\n      this.project = navigation.extras.state ? navigation.extras.state.project : 0;\n    }\n\n    //On page refresh, the state is lost along with the object so I reroute the user back to projects \n    if(this.project.id==null){\n      this.router.navigateByUrl(\"/projects\");\n    }\n\n\n  }\n\n  async ngOnInit(): Promise<void> {\n    this.noOfUsers = await this.projectService.getProjectNoOfUsers(this.project.id).toPromise();\n    this.stats = await this.projectService.getProjectStats(this.project.id).toPromise();\n    this.users = await this.userService.getUsersOfProject(this.project.id,this.usersPageNo).toPromise();\n    this.noOfTickets = this.stats[0]+this.stats[1]\n    const userId= localStorage.getItem(\"user_id\");\n    this.thisUserLink = await this.projectService.getUserProjectLink(this.project.id,Number(userId)).toPromise();\n    this.roles = await this.roleService.getRoles().toPromise();\n\n    if(this.thisUserLink.role.accessLevel<3){\n      this.addUserButtonDisabled=true;\n    }\n    if(this.thisUserLink.role.accessLevel<2){\n      this.editProjectAndCreateTicketButton=true;\n    }\n  }\n\n\n  public async nextUsers(){       \n    if(this.users.length!=0){\n      console.warn(\"click called\");\n      this.usersPageNo+=1;\n      this.users = await this.userService.getUsersOfProject(this.project.id,this.usersPageNo).toPromise();\n    }\n  }\n  public async previousUsers(){\n    if(this.usersPageNo!==0){\n      this.usersPageNo-=1;\n      console.warn(\"click called\");\n      this.users = await this.userService.getUsersOfProject(this.project.id,this.usersPageNo).toPromise();\n    }\n  }\n\n  selectedRoleId!: number;\n  userToBeAdded!: User;\n\n  public async onAddUser(addUserForm: NgForm):Promise<void>{\n    const username = addUserForm.form.get('username')?.value;\n    this.userToBeAdded =  await this.userService.getUserByName(username).toPromise();\n   \n    if(this.userToBeAdded?.id){\n      console.warn(\"User to be added ID: \"+this.userToBeAdded.id)\n      this.projectService.addUserToProject(this.userToBeAdded.id,this.project.id,this.selectedRoleId).subscribe(\n        (response: ProjectUserRoleLink)=>  {\n         //alert(\"User: \"+this.userToBeAdded.userName+\" Added to project\");\n         Notifications.addNewAlert(`New Role Created With Name: ${response.user.userName} `,\"success\")\n\n         const currentUrl = this.router.url;\n          this.router.navigateByUrl('/', {skipLocationChange: true}).then(() => {\n          this.router.navigate([currentUrl],{ state: { project: response.project } });\n          });\n        },\n        (error: HttpErrorResponse) =>{\n          alert(error.message);\n        }    \n      );\n    }else{alert(\"User not found\")}\n\n  }\n  public setRole(role:number):void{\n    this.selectedRoleId=role;\n    \n\n  }\n\n  public openEditProject(){\n    this.router.navigateByUrl('projects/project/edit', { state: { project: this.project } });\n  }\n  public openAddTicket(){\n    this.router.navigateByUrl('tickets/add', { state: { project: this.project } });\n  }\n\n\n\n}\n","<div class=\"content\">\n  <div class=\"container-fluid\">\n    <div class=\"row\">\n      <div class=\"col-md-8\">\n        <div class=\"card\">\n          <div class=\"card-header card-header-primary\">\n            <h4 class=\"card-title\">{{ this.project.projectName }}</h4>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"card-title\">\n              <h4>Description</h4>\n            </div>\n            <div class=\"card-title\">\n              <p>\n                {{ this.project.projectDescription }}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div class=\"card\">\n          <div class=\"card-header card-header-warning\">\n            <h4 class=\"card-title\">Assigned Users</h4>\n          </div>\n          <div class=\"card-body table-responsive\">\n            <table class=\"table table-hover\">\n              <thead class=\"text-warning\">\n                <th>ID</th>\n                <th>Username</th>\n                <th>Completed Tickets</th>\n                <th>Created Tickets</th>\n                <th>Assigned Tickets</th>\n                <th>Role and access level</th>\n              </thead>\n\n              <tbody>\n                <tr\n                  app-project-user-list-row\n                  *ngFor=\"let user of users\"\n                  [user]=\"user\"\n                  [project]=\"project\"\n                ></tr>\n              </tbody>\n            </table>\n            <button\n              type=\"button\"\n              rel=\"tooltip\"\n              title=\"Previous 10 Users\"\n              class=\"btn btn-primary btn-link btn-sm\"\n              (click)=\"previousUsers()\"\n            >\n              <i class=\"material-icons\">chevron_left</i>\n            </button>\n            <button\n              type=\"button\"\n              rel=\"tooltip\"\n              title=\"Next 10 users\"\n              class=\"btn btn-primary btn-link btn-sm\"\n              (click)=\"nextUsers()\"\n            >\n              <i class=\"material-icons\">chevron_right</i>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card card-stats col-md-4\">\n        <div class=\"card-header card-header-primary card-header-icon\">\n          <div class=\"card-icon\">\n            <i class=\"material-icons\">assignment</i>\n          </div>\n          <h3 class=\"card-title\">Project Details</h3>\n        </div>\n\n        <div class=\"card-header card-header-success card-header-icon\"></div>\n        <div class=\"card-footer\">\n          <a\n            >Start date:\n            {{\n              this.datepipe.transform(this.project.dateStarted, \"yyyy-MM-dd\")\n            }}</a\n          >\n        </div>\n        <div class=\"card-header card-header-success card-header-icon\"></div>\n        <div class=\"card-footer\">\n          <a>Tickets: {{ this.noOfTickets }}</a>\n        </div>\n        <div class=\"card-header card-header-success card-header-icon\"></div>\n        <div class=\"card-footer\">\n          <a>Priority: {{ this.project.projectPriority.priorityType }}</a>\n        </div>\n        <div class=\"card-header card-header-success card-header-icon\"></div>\n        <div class=\"card-footer\">\n          <a>Status: {{ this.project.projectOpen ? \"Open\" : \"Closed\" }}</a>\n        </div>\n        <div class=\"card-header card-header-success card-header-icon\"></div>\n        <div class=\"card-footer\">\n          <a>No of assigned users: {{ this.noOfUsers }}</a>\n        </div>\n        <div class=\"card-header card-header-success card-header-icon\"></div>\n        <div class=\"card-footer\">\n          <a>Edit Project: </a>\n          <button\n            type=\"button\"\n            rel=\"tooltip\"\n            title=\"Edit Project\"\n            class=\"btn btn-primary btn-link btn-sm\"\n            [disabled]=\"this.editProjectAndCreateTicketButton\"\n            (click)=\"openEditProject()\"\n          >\n            <i class=\"material-icons\">edit</i>\n          </button>\n        </div>\n        <div class=\"card-header card-header-success card-header-icon\"></div>\n        <div class=\"card-footer\">\n          <a>Create Ticket: </a>\n          <button\n            type=\"button\"\n            rel=\"tooltip\"\n            title=\"Create Ticket\"\n            class=\"btn btn-primary btn-link btn-sm\"\n            [disabled]=\"this.editProjectAndCreateTicketButton\"\n            (click)=\"openAddTicket()\"\n          >\n            <i class=\"material-icons\">add</i>\n          </button>\n        </div>\n        <div class=\"card-header card-header-success card-header-icon\"></div>\n        <div class=\"card-footer\">\n          <div class=\"row\">\n            <div class=\"col\">\n              <div ngbDropdown class=\"d-inline-block\">\n                <button\n                  class=\"btn btn-outline-primary tn btn-primary btn-link btn-sm\"\n                  id=\"assignUserDropdownForm\"\n                  ngbDropdownToggle\n                  rel=\"tooltip\"\n                  title=\"Add User To Project\"\n                  [disabled]=\"this.addUserButtonDisabled\"\n                >\n                  <i class=\"material-icons\">edit</i>\n                </button>\n                <div ngbDropdownMenu aria-labelledby=\"dropdownForm1\">\n                  <form\n                    #addUserForm=\"ngForm\"\n                    class=\"px-4 py-3\"\n                    (ngSubmit)=\"onAddUser(addUserForm)\"\n                  >\n                    <div class=\"form-group\">\n                      <label for=\"assignUserDropdownFormUsername\"\n                        >User's Name</label\n                      >\n                      <input\n                        type=\"text\"\n                        ngModel\n                        name=\"username\"\n                        class=\"form-control\"\n                        id=\"assignUserDropdownFormUsername\"\n                        placeholder=\"username\"\n                        autocomplete=\"username\"\n                        #input\n                        required\n                      />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"assignUserDropdownFormRole\"\n                        >User's Role:</label\n                      >\n\n                      <div ngbDropdown class=\"d-inline-block\">\n                        <button\n                          class=\"btn btn-primary btn-link btn-sm\"\n                          id=\"priorityDropDown\"\n                          ngbDropdownToggle\n                          type=\"button\"\n                          [disabled]=\"!addUserForm.valid\"\n                        >\n                          Roles:\n                        </button>\n                        <div ngbDropdownMenu aria-labelledby=\"priorityDropDown\">\n                          <button\n                            ngbDropdownItem\n                            *ngFor=\"let role of roles\"\n                            type=\"submit\"\n                            ngModel\n                            name=\"role\"\n                            (click)=\"setRole(role.id)\"\n                          >\n                            Role : {{ role.roleType }} Access Level:\n                            {{\n                              role.accessLevel == 1\n                                ? \"Read\"\n                                : \"\" || role.accessLevel == 2\n                                ? \"Read & Write\"\n                                : \"\" || role.accessLevel == 3\n                                ? \"Owner\"\n                                : \"\"\n                            }}\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <a>: Add User To Project </a>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-9\">\n        <app-tickets-card [project]=\"project\"></app-tickets-card>\n      </div>\n\n      <div class=\"card card-stats col-md-3 pull-right\">\n        <div class=\"card-header card-header-primary card-header-icon\">\n          <div class=\"card-icon\">\n            <i class=\"material-icons\">person</i>\n          </div>\n\n          <h3 class=\"card-title\">{{ this.thisUserLink.user.userName }}</h3>\n        </div>\n        <div class=\"card-category\">\n          <div class=\"stats\">\n            <a>Your role: {{ this.thisUserLink.role.roleType }}</a>\n          </div>\n        </div>\n        <div class=\"card-category\">\n          <div class=\"stats\">\n            <a\n              >Your access level:\n              {{\n                this.thisUserLink.role.accessLevel == 1\n                  ? \"Read\"\n                  : \"\" || this.thisUserLink.role.accessLevel == 2\n                  ? \"Read & Write\"\n                  : \"\" || this.thisUserLink.role.accessLevel == 3\n                  ? \"Owner\"\n                  : \"\"\n              }}</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}